# 五好伴学 - 阿里云生产环境配置模板
# 用于在阿里云 ECS + RDS + Redis 场景下部署，所有占位符请替换为真实值

# 基本信息
ENVIRONMENT=production
PROJECT_NAME=五好伴学
VERSION=0.1.0
DEBUG=false
HOST=0.0.0.0
PORT=8000

# 安全配置
SECRET_KEY=REPLACE_WITH_64_CHAR_SECRET
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_MINUTES=43200
ALGORITHM=HS256

# CORS 配置（根据实际访问路径调整）
BACKEND_CORS_ORIGINS=https://121.199.173.244,http://121.199.173.244,https://wuhao-tutor.com,https://admin.wuhao-tutor.com

# 数据库（阿里云 RDS PostgreSQL）
POSTGRES_SERVER=pgm-your-rds-endpoint.pg.rds.aliyuncs.com
POSTGRES_USER=your_rds_username
POSTGRES_PASSWORD=REPLACE_WITH_RDS_PASSWORD
POSTGRES_DB=wuhao_tutor
POSTGRES_PORT=5432
# 可选：直接提供 SQLAlchemy 连接串
# SQLALCHEMY_DATABASE_URI=postgresql+asyncpg://your_rds_username:REPLACE_WITH_RDS_PASSWORD@pgm-your-rds-endpoint.pg.rds.aliyuncs.com:5432/wuhao_tutor

# 缓存（阿里云 Redis）
REDIS_HOST=r-your-redis-endpoint.redis.rds.aliyuncs.com
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD
REDIS_DB=0

# 日志
LOG_LEVEL=INFO
LOG_FORMAT=json

# 阿里云百炼配置
BAILIAN_APPLICATION_ID=your_bailian_application_id
BAILIAN_API_KEY=sk-your_bailian_api_key
BAILIAN_BASE_URL=https://dashscope.aliyuncs.com/api/v1
BAILIAN_TIMEOUT=30
BAILIAN_MAX_RETRIES=3

# 阿里云账户配置
ALICLOUD_ACCESS_KEY_ID=your_access_key_id
ALICLOUD_ACCESS_KEY_SECRET=your_access_key_secret
ALICLOUD_REGION=cn-hangzhou

# OSS 文件存储
OSS_BUCKET_NAME=wuhao-tutor-prod
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
OSS_ACCESS_KEY_ID=your_access_key_id
OSS_ACCESS_KEY_SECRET=your_access_key_secret
UPLOAD_MAX_SIZE=10485760
UPLOAD_DIR=/app/uploads

# 短信服务（可选）
SMS_ACCESS_KEY_ID=your_access_key_id
SMS_ACCESS_KEY_SECRET=your_access_key_secret
SMS_SIGN_NAME=五好伴学
SMS_TEMPLATE_CODE=SMS_123456789

# 微信配置（如使用）
WECHAT_APP_ID=your_wechat_app_id
WECHAT_APP_SECRET=your_wechat_app_secret
WECHAT_MINI_PROGRAM_APP_ID=your_mini_program_app_id
WECHAT_MINI_PROGRAM_APP_SECRET=your_mini_program_app_secret

# 性能与限流
ENABLE_METRICS=true
METRICS_PORT=9090
SLOW_QUERY_THRESHOLD=0.3
RATE_LIMIT_PER_IP=100
RATE_LIMIT_PER_USER=50
RATE_LIMIT_AI_SERVICE=20
RATE_LIMIT_LOGIN=10

# 缓存
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=600
AI_CACHE_ENABLED=true
AI_CACHE_TTL=3600
