# Phase 5.1 手动测试检查清单

**测试日期**: ___________  
**测试人员**: ___________  
**测试环境**: 生产环境 (https://www.horsduroot.com)  
**小程序版本**: v1.0.0

---

## 📱 测试前准备

### 环境检查
- [ ] 微信开发者工具已安装并更新到最新版本
- [ ] 小程序项目已打开并编译成功
- [ ] 网络连接正常（可访问生产环境）
- [ ] 已有测试账号并能正常登录

### 配置验证
- [ ] `miniprogram/config/index.js` 中 `environment` 为 `'production'`
- [ ] `miniprogram/config/index.js` 中 `baseUrl` 为 `'https://www.horsduroot.com'`
- [ ] `miniprogram/config/index.js` 中 `timeout` 为 `120000`

### 测试数据准备
- [ ] 准备至少 3 张不同类型的作业图片：
  - 图片 A: 包含 3-5 道题，有 1-2 个错误
  - 图片 B: 包含 5-8 道题，全部正确
  - 图片 C: 包含未作答的题目
- [ ] 图片清晰度良好，大小 < 10MB

---

## 🧪 测试场景 1: 基本批改流程

### 1.1 登录和导航
- [ ] 打开小程序
- [ ] 使用测试账号登录成功
- [ ] 导航到"作业问答"页面
- [ ] 页面正常显示（消息列表、输入框、工具栏等）

**预期结果**: 页面加载正常，无错误提示

---

### 1.2 上传作业图片（错题场景）
- [ ] 点击相机图标 📷
- [ ] 选择"从相册选择"或"拍照"
- [ ] 选择图片 A（包含错误的作业）
- [ ] 图片上传过程中显示加载提示

**预期结果**: 
- 显示"上传中..."或类似提示
- 图片上传完成后，显示在消息列表中

**实际结果**: ________________

---

### 1.3 AI 批改处理
- [ ] 观察 AI 批改过程
- [ ] 显示"正在批改作业..."等提示信息
- [ ] 批改过程中显示流式输出内容
- [ ] 批改完成后显示批改结果卡片

**预期结果**: 
- 批改过程顺畅，无卡顿
- 流式输出内容清晰
- 批改时间 < 40 秒

**实际批改时间**: _______ 秒  
**实际结果**: ________________

---

### 1.4 批改结果卡片展示
- [ ] 批改结果卡片正确显示
- [ ] 顶部统计区域显示：
  - 总题数
  - 正确数（绿色）
  - 错误数（红色）
  - 未作答数（灰色）
- [ ] 错题列表区域显示：
  - 题号
  - 错误类型标签
  - 学生答案
  - 正确答案
  - 解析说明
  - 知识点标签
- [ ] 底部按钮显示：
  - "查看错题本"按钮
  - "继续练习"按钮（可选）

**检查项**:
- [ ] 总题数正确
- [ ] 错误数量与实际一致
- [ ] 错误类型标签清晰（如"计算错误"、"概念理解错误"）
- [ ] 答案对比清晰可读
- [ ] 解析说明详细易懂
- [ ] 知识点标签准确

**实际显示**:
- 总题数: _______
- 正确数: _______
- 错误数: _______
- 未作答数: _______

**截图**: （可选）保存批改结果卡片截图

---

### 1.5 点击"查看错题本"
- [ ] 点击"查看错题本"按钮
- [ ] 页面跳转到错题本列表页面
- [ ] 错题本页面显示刚才创建的错题
- [ ] 错题信息完整（题号、答案、解析等）

**预期结果**: 
- 跳转成功，无延迟
- 新错题显示在列表顶部
- 错题数量与批改结果一致

**实际结果**: ________________

---

### 1.6 查看错题详情
- [ ] 点击某个错题卡片
- [ ] 进入错题详情页面
- [ ] 详情页面显示：
  - 题号
  - 原始题目（如有）
  - 学生答案
  - 正确答案
  - 错误原因
  - 详细解析
  - 知识点标签
  - 原始作业图片
  - 创建时间

**检查项**:
- [ ] 所有信息完整显示
- [ ] 图片可正常查看和缩放
- [ ] 知识点标签可点击（如有）
- [ ] 时间显示准确

**实际结果**: ________________

---

## 🧪 测试场景 2: 全对场景

### 2.1 上传全对作业
- [ ] 返回"作业问答"页面
- [ ] 上传图片 B（全部正确的作业）
- [ ] 等待 AI 批改完成

**预期结果**: 批改正常完成

---

### 2.2 查看全对结果
- [ ] 批改结果卡片显示
- [ ] 顶部显示"恭喜你全对了！🎉"或类似鼓励信息
- [ ] 统计显示：
  - 正确数 = 总题数
  - 错误数 = 0
  - 未作答数 = 0
- [ ] 错题列表为空或显示"太棒了，没有错题！"
- [ ] 只显示"继续练习"按钮，不显示"查看错题本"按钮

**检查项**:
- [ ] 全对提示清晰醒目
- [ ] 统计数字正确
- [ ] UI 布局合理
- [ ] 鼓励信息积极正面

**实际结果**: ________________

---

### 2.3 点击"继续练习"
- [ ] 点击"继续练习"按钮
- [ ] 显示鼓励提示（如"真棒！继续加油"）
- [ ] 可以继续提问或上传新作业

**预期结果**: 
- 提示友好
- 功能继续可用

**实际结果**: ________________

---

## 🧪 测试场景 3: 未作答题目

### 3.1 上传含未作答的作业
- [ ] 上传图片 C（包含未作答题目）
- [ ] 等待 AI 批改完成

**预期结果**: 批改正常完成

---

### 3.2 查看未作答结果
- [ ] 批改结果卡片显示
- [ ] 统计区域显示未作答数量（灰色）
- [ ] 错题列表中未作答题目有特殊标识：
  - 显示"未作答"标签
  - 学生答案显示为"未作答"
  - 仍显示正确答案和解析

**检查项**:
- [ ] 未作答题目被识别
- [ ] 未作答标签清晰
- [ ] 与错误题目有视觉区分
- [ ] 未作答题目也被创建为错题

**实际结果**: ________________

---

### 3.3 验证未作答错题创建
- [ ] 进入错题本
- [ ] 查看未作答题目的错题记录
- [ ] 验证 `is_unanswered` 字段正确标记

**预期结果**: 
- 未作答题目成功创建为错题
- 错题类型标记正确

**实际结果**: ________________

---

## 🧪 测试场景 4: 边界情况

### 4.1 网络异常
- [ ] 关闭网络连接
- [ ] 尝试上传作业图片
- [ ] 观察错误提示

**预期结果**: 
- 显示"网络连接失败"或类似提示
- 提示用户检查网络
- 不会导致小程序崩溃

**实际结果**: ________________

---

### 4.2 图片过大
- [ ] 尝试上传超大图片（> 10MB）
- [ ] 观察处理结果

**预期结果**: 
- 显示"图片过大"提示
- 或自动压缩图片后上传
- 不会导致上传失败

**实际结果**: ________________

---

### 4.3 批改超时
- [ ] 上传非常复杂的作业图片（题目多、手写潦草等）
- [ ] 观察是否会超时

**预期结果**: 
- 120 秒内完成批改
- 如果超时，显示友好提示和重试选项

**实际批改时间**: _______ 秒  
**实际结果**: ________________

---

### 4.4 Token 过期
- [ ] 等待 Token 过期（或手动清除 Token）
- [ ] 尝试上传作业
- [ ] 观察认证流程

**预期结果**: 
- 自动刷新 Token
- 或提示用户重新登录
- 上传操作最终成功

**实际结果**: ________________

---

### 4.5 连续上传
- [ ] 连续上传 3 张作业图片（无需等待批改完成）
- [ ] 观察队列处理

**预期结果**: 
- 按顺序处理每张图片
- 所有批改结果都正确显示
- 不会出现混乱或覆盖

**实际结果**: ________________

---

## 🧪 测试场景 5: UI/UX 验证

### 5.1 响应式布局
- [ ] 在不同机型上测试（如有条件）
- [ ] 检查组件在不同屏幕尺寸下的显示

**检查项**:
- [ ] iPhone SE (小屏) - 显示正常
- [ ] iPhone 12 (中屏) - 显示正常
- [ ] iPhone 12 Pro Max (大屏) - 显示正常
- [ ] 横屏模式 - 显示正常

**实际结果**: ________________

---

### 5.2 颜色和对比度
- [ ] 检查批改结果卡片的配色
- [ ] 验证文字清晰度和可读性

**检查项**:
- [ ] 正确题目（绿色）清晰可见
- [ ] 错误题目（红色）醒目但不刺眼
- [ ] 未作答（灰色）与其他状态区分明确
- [ ] 文字对比度良好，易于阅读

**实际结果**: ________________

---

### 5.3 交互反馈
- [ ] 点击按钮时有视觉反馈（高亮、波纹等）
- [ ] 加载过程中有明确的进度提示
- [ ] 成功/失败操作有 Toast 提示

**检查项**:
- [ ] 按钮点击反馈迅速
- [ ] Loading 动画流畅
- [ ] Toast 提示清晰易懂

**实际结果**: ________________

---

### 5.4 动画效果
- [ ] 批改结果卡片出现时有过渡动画
- [ ] 错题列表展开/收起流畅

**检查项**:
- [ ] 动画时长适中（不过快或过慢）
- [ ] 动画流畅，无卡顿
- [ ] 动画符合用户预期

**实际结果**: ________________

---

## 📊 性能指标记录

### 响应时间（多次测试取平均值）

| 操作 | 测试 1 | 测试 2 | 测试 3 | 平均值 | 目标值 |
|------|--------|--------|--------|--------|--------|
| 图片上传 | ___s | ___s | ___s | ___s | < 5s |
| AI 批改（3 题） | ___s | ___s | ___s | ___s | < 20s |
| AI 批改（5 题） | ___s | ___s | ___s | ___s | < 30s |
| 错题创建 | ___s | ___s | ___s | ___s | < 2s |
| 页面跳转 | ___s | ___s | ___s | ___s | < 1s |

### 成功率统计

| 操作 | 成功次数 | 总次数 | 成功率 | 目标成功率 |
|------|----------|--------|--------|------------|
| 图片上传 | ___ | ___ | ___% | > 95% |
| AI 批改 | ___ | ___ | ___% | > 95% |
| 错题创建 | ___ | ___ | ___% | > 99% |
| 错题本跳转 | ___ | ___ | ___% | > 99% |

---

## 🐛 问题记录

### 问题 1
- **严重程度**: [ ] 高 [ ] 中 [ ] 低
- **发现时间**: ___________
- **问题描述**: 
  
  
- **复现步骤**:
  1. 
  2. 
  3. 

- **预期结果**: 

- **实际结果**: 

- **截图/日志**: 

---

### 问题 2
- **严重程度**: [ ] 高 [ ] 中 [ ] 低
- **发现时间**: ___________
- **问题描述**: 
  
  
- **复现步骤**:
  1. 
  2. 
  3. 

- **预期结果**: 

- **实际结果**: 

- **截图/日志**: 

---

### 问题 3
（如需更多问题记录，请复制上方模板）

---

## ✅ 总体评估

### 功能完整性
- [ ] 所有核心功能正常工作
- [ ] 边界情况处理得当
- [ ] 错误提示清晰友好
- [ ] 数据流完整无丢失

**评分**: ___/10

---

### 用户体验
- [ ] 界面美观，符合设计规范
- [ ] 交互流畅，响应迅速
- [ ] 提示信息清晰易懂
- [ ] 学习曲线平缓，易于使用

**评分**: ___/10

---

### 性能表现
- [ ] 响应时间在可接受范围内
- [ ] 无明显卡顿或延迟
- [ ] 内存占用合理
- [ ] 网络请求高效

**评分**: ___/10

---

### 稳定性
- [ ] 无崩溃或闪退
- [ ] 错误恢复能力强
- [ ] 边界情况处理完善
- [ ] 连续使用稳定

**评分**: ___/10

---

## 📝 测试结论

### 是否通过 Phase 5.1
- [ ] ✅ **通过** - 所有测试通过，可进入下一阶段
- [ ] ⚠️  **条件通过** - 存在小问题，不影响核心功能
- [ ] ❌ **不通过** - 存在严重问题，需要修复后重测

### 阻塞问题
_（列出所有必须解决的问题）_
1. 
2. 
3. 

### 改进建议
_（非阻塞的优化建议）_
1. 
2. 
3. 

### 下一步行动
- [ ] 修复发现的问题
- [ ] 进行 Phase 5.2 场景测试
- [ ] 进行 Phase 5.3 性能与稳定性测试
- [ ] 进行 Phase 5.4 UI/UX 测试

---

## 📎 附件

- 测试截图目录: _____________
- 日志文件: _____________
- 自动化测试报告: `test-results/phase5/integration-test-*.md`

---

**测试完成时间**: ___________  
**测试签名**: ___________

---

**备注**: 
- 本清单用于 Phase 5.1 前后端联调的手动测试
- 所有带 `[ ]` 的项目均需逐项验证并勾选
- 发现问题请详细记录在"问题记录"部分
- 测试完成后请归档本文档和相关截图

**相关文档**:
- `docs/PHASE5_INTEGRATION_TEST.md` - 详细测试指南
- `DEVELOPMENT_CONTEXT.md` - 开发进度跟踪