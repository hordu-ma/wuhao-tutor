{
  "start_time": "2025-10-03T08:14:10.751166",
  "end_time": "2025-10-03T08:14:22.777546",
  "duration": 12.02638,
  "backend_tests": {
    "return_code": 1,
    "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0\nrootdir: /Users/liguoma/my-devs/python/wuhao-tutor\nconfigfile: pyproject.toml\nplugins: asyncio-1.2.0, anyio-4.11.0, cov-7.0.0\nasyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollected 69 items\n\ntests/integration/test_api.py FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF            [ 44%]\ntests/integration/test_miniprogram_api_integration.py .                  [ 46%]\ntests/performance/test_load.py FFF                                       [ 50%]\ntests/unit/test_bailian_service.py ..................................    [100%]\n\n=================================== FAILURES ===================================\n_____________________ TestAPIIntegration.test_health_check _____________________\ntests/integration/test_api.py:49: in test_health_check\n    response = self.client.get(\"/api/v1/health\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIIntegration' object has no attribute 'client'\n___________________ TestAPIIntegration.test_health_readiness ___________________\ntests/integration/test_api.py:59: in test_health_readiness\n    response = self.client.get(\"/api/v1/health/readiness\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIIntegration' object has no attribute 'client'\n___________________ TestAPIIntegration.test_health_liveness ____________________\ntests/integration/test_api.py:67: in test_health_liveness\n    response = self.client.get(\"/api/v1/health/liveness\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIIntegration' object has no attribute 'client'\n____________________ TestAPIIntegration.test_health_metrics ____________________\ntests/integration/test_api.py:75: in test_health_metrics\n    response = self.client.get(\"/api/v1/health/metrics\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIIntegration' object has no attribute 'client'\n_____________________ TestHomeworkAPI.test_homework_health _____________________\ntests/integration/test_api.py:99: in test_homework_health\n    response = self.client.get(\"/api/v1/homework/health\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestHomeworkAPI' object has no attribute 'client'\n_____________________ TestHomeworkAPI.test_create_template _____________________\ntests/integration/test_api.py:117: in test_create_template\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestHomeworkAPI' object has no attribute 'client'\n______________________ TestHomeworkAPI.test_get_templates ______________________\ntests/integration/test_api.py:129: in test_get_templates\n    response = self.client.get(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestHomeworkAPI' object has no attribute 'client'\n______________ TestHomeworkAPI.test_submit_homework_without_file _______________\ntests/integration/test_api.py:138: in test_submit_homework_without_file\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestHomeworkAPI' object has no attribute 'client'\n____________ TestHomeworkAPI.test_submit_homework_with_invalid_file ____________\ntests/integration/test_api.py:157: in test_submit_homework_with_invalid_file\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestHomeworkAPI' object has no attribute 'client'\n_____________________ TestHomeworkAPI.test_get_submissions _____________________\ntests/integration/test_api.py:174: in test_get_submissions\n    response = self.client.get(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestHomeworkAPI' object has no attribute 'client'\n______________________ TestLearningAPI.test_ask_question _______________________\ntests/integration/test_api.py:205: in test_ask_question\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestLearningAPI' object has no attribute 'client'\n_____________________ TestLearningAPI.test_create_session ______________________\ntests/integration/test_api.py:224: in test_create_session\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestLearningAPI' object has no attribute 'client'\n______________________ TestLearningAPI.test_get_sessions _______________________\ntests/integration/test_api.py:234: in test_get_sessions\n    response = self.client.get(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestLearningAPI' object has no attribute 'client'\n_____________________ TestLearningAPI.test_submit_feedback _____________________\ntests/integration/test_api.py:250: in test_submit_feedback\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestLearningAPI' object has no attribute 'client'\n_________________________ TestFileAPI.test_file_health _________________________\ntests/integration/test_api.py:279: in test_file_health\n    response = self.client.get(\"/api/v1/files/health\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestFileAPI' object has no attribute 'client'\n______________________ TestFileAPI.test_upload_image_file ______________________\ntests/integration/test_api.py:291: in test_upload_image_file\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestFileAPI' object has no attribute 'client'\n__________________ TestFileAPI.test_upload_invalid_file_type ___________________\ntests/integration/test_api.py:303: in test_upload_invalid_file_type\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestFileAPI' object has no attribute 'client'\n______________________ TestFileAPI.test_upload_large_file ______________________\ntests/integration/test_api.py:318: in test_upload_large_file\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestFileAPI' object has no attribute 'client'\n__________________________ TestFileAPI.test_get_files __________________________\ntests/integration/test_api.py:330: in test_get_files\n    response = self.client.get(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestFileAPI' object has no attribute 'client'\n_______________________ TestFileAPI.test_get_file_stats ________________________\ntests/integration/test_api.py:339: in test_get_file_stats\n    response = self.client.get(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestFileAPI' object has no attribute 'client'\n___________ TestAPIAuthentication.test_unauthorized_access_homework ____________\ntests/integration/test_api.py:361: in test_unauthorized_access_homework\n    response = self.client.get(\"/api/v1/homework/templates\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIAuthentication' object has no attribute 'client'\n___________ TestAPIAuthentication.test_unauthorized_access_learning ____________\ntests/integration/test_api.py:367: in test_unauthorized_access_learning\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIAuthentication' object has no attribute 'client'\n_____________ TestAPIAuthentication.test_unauthorized_access_files _____________\ntests/integration/test_api.py:375: in test_unauthorized_access_files\n    response = self.client.get(\"/api/v1/files\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIAuthentication' object has no attribute 'client'\n___________________ TestAPIAuthentication.test_invalid_token ___________________\ntests/integration/test_api.py:382: in test_invalid_token\n    response = self.client.get(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIAuthentication' object has no attribute 'client'\n________________ TestAPIErrorHandling.test_invalid_json_request ________________\ntests/integration/test_api.py:405: in test_invalid_json_request\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIErrorHandling' object has no attribute 'client'\n______________ TestAPIErrorHandling.test_missing_required_fields _______________\ntests/integration/test_api.py:415: in test_missing_required_fields\n    response = self.client.post(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIErrorHandling' object has no attribute 'client'\n_______________ TestAPIErrorHandling.test_invalid_uuid_parameter _______________\ntests/integration/test_api.py:425: in test_invalid_uuid_parameter\n    response = self.client.get(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIErrorHandling' object has no attribute 'client'\n_________________ TestAPIErrorHandling.test_not_found_resource _________________\ntests/integration/test_api.py:435: in test_not_found_resource\n    response = self.client.get(\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIErrorHandling' object has no attribute 'client'\n______________ TestAPIPerformance.test_health_check_response_time ______________\ntests/integration/test_api.py:462: in test_health_check_response_time\n    response = self.client.get(\"/api/v1/health\")\n               ^^^^^^^^^^^\nE   AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n_______________ TestAPIPerformance.test_concurrent_health_checks _______________\ntests/integration/test_api.py:497: in test_concurrent_health_checks\n    assert len(results) == 10\nE   assert 0 == 10\nE    +  where 0 = len([])\n___________________________ test_async_client_health ___________________________\ntests/integration/test_api.py:508: in test_async_client_health\n    async with AsyncClient(app=app, base_url=\"http://test\") as client:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: AsyncClient.__init__() got an unexpected keyword argument 'app'\n---------------------------- Captured stdout setup -----------------------------\nUsing selector: KqueueSelector\nUsing selector: KqueueSelector\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:64 Using selector: KqueueSelector\nDEBUG    asyncio:selector_events.py:64 Using selector: KqueueSelector\n_______________ TestPerformance.test_health_endpoint_performance _______________\ntests/performance/test_load.py:402: in test_health_endpoint_performance\n    assert result.error_rate < 10, f\"错误率过高: {result.error_rate}%\"\nE   AssertionError: 错误率过高: 100.0%\nE   assert 100.0 < 10\nE    +  where 100.0 = LoadTestResult(endpoint='/health/readiness', method='GET', total_requests=25, successful_requests=0, failed_requests=2...time=0, percentile_95=0, percentile_99=0, requests_per_second=498.0057467170098, error_rate=100.0, errors=['HTTP 429']).error_rate\n---------------------------- Captured stdout setup -----------------------------\nUsing selector: KqueueSelector\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:64 Using selector: KqueueSelector\n----------------------------- Captured stdout call -----------------------------\n\n运行测试: 健康检查端点\n开始负载测试: /health\n并发用户数: 10, 每用户请求数: 10\n\n============================================================\n负载测试结果: GET /health\n============================================================\n总请求数:     100\n成功请求数:   100\n失败请求数:   0\n错误率:       0.00%\n平均响应时间: 0.051s\n最小响应时间: 0.044s\n最大响应时间: 0.061s\n95%响应时间:  0.060s\n99%响应时间:  0.061s\n吞吐量:       1615.70 req/s\n============================================================\n\n\n运行测试: 就绪检查端点\n开始负载测试: /health/readiness\n并发用户数: 5, 每用户请求数: 5\n\n============================================================\n负载测试结果: GET /health/readiness\n============================================================\n总请求数:     25\n成功请求数:   0\n失败请求数:   25\n错误率:       100.00%\n平均响应时间: 0.000s\n最小响应时间: 0.000s\n最大响应时间: 0.000s\n95%响应时间:  0.000s\n99%响应时间:  0.000s\n吞吐量:       498.01 req/s\n\n主要错误:\n  - HTTP 429\n============================================================\n\n\n运行测试: 活性检查端点\n开始负载测试: /health/liveness\n并发用户数: 20, 每用户请求数: 10\n\n============================================================\n负载测试结果: GET /health/liveness\n============================================================\n总请求数:     200\n成功请求数:   0\n失败请求数:   200\n错误率:       100.00%\n平均响应时间: 0.000s\n最小响应时间: 0.000s\n最大响应时间: 0.000s\n95%响应时间:  0.000s\n99%响应时间:  0.000s\n吞吐量:       5996.62 req/s\n\n主要错误:\n  - HTTP 429\n============================================================\n\n_________________ TestPerformance.test_api_stress_performance __________________\ntests/performance/test_load.py:414: in test_api_stress_performance\n    assert result.error_rate < 20, f\"压力测试错误率过高: {result.error_rate}%\"\nE   AssertionError: 压力测试错误率过高: 100.0%\nE   assert 100.0 < 20\nE    +  where 100.0 = LoadTestResult(endpoint='/api/v1/health/metrics', method='GET', total_requests=50, successful_requests=0, failed_reque...time=0, percentile_95=0, percentile_99=0, requests_per_second=3657.397976979421, error_rate=100.0, errors=['HTTP 429']).error_rate\n---------------------------- Captured stdout setup -----------------------------\nUsing selector: KqueueSelector\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:64 Using selector: KqueueSelector\n----------------------------- Captured stdout call -----------------------------\n\n运行压力测试: 系统指标端点\n开始负载测试: /api/v1/health/metrics\n并发用户数: 5, 每用户请求数: 10\n\n============================================================\n负载测试结果: GET /api/v1/health/metrics\n============================================================\n总请求数:     50\n成功请求数:   0\n失败请求数:   50\n错误率:       100.00%\n平均响应时间: 0.000s\n最小响应时间: 0.000s\n最大响应时间: 0.000s\n95%响应时间:  0.000s\n99%响应时间:  0.000s\n吞吐量:       3657.40 req/s\n\n主要错误:\n  - HTTP 429\n============================================================\n\n\n运行压力测试: 性能监控端点\n开始负载测试: /api/v1/health/performance\n并发用户数: 3, 每用户请求数: 5\n\n============================================================\n负载测试结果: GET /api/v1/health/performance\n============================================================\n总请求数:     15\n成功请求数:   0\n失败请求数:   15\n错误率:       100.00%\n平均响应时间: 0.000s\n最小响应时间: 0.000s\n最大响应时间: 0.000s\n95%响应时间:  0.000s\n99%响应时间:  0.000s\n吞吐量:       3214.19 req/s\n\n主要错误:\n  - HTTP 429\n============================================================\n\n______________________ TestPerformance.test_rate_limiting ______________________\ntests/performance/test_load.py:427: in test_rate_limiting\n    assert result.error_rate > 0, \"高并发测试应该触发限流\"\nE   AssertionError: 高并发测试应该触发限流\nE   assert 0.0 > 0\nE    +  where 0.0 = LoadTestResult(endpoint='/health', method='GET', total_requests=200, successful_requests=200, failed_requests=0, avg_r...6960679292678833, percentile_99=0.07039695024490357, requests_per_second=2688.2514493009066, error_rate=0.0, errors=[]).error_rate\n---------------------------- Captured stdout setup -----------------------------\nUsing selector: KqueueSelector\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:64 Using selector: KqueueSelector\n----------------------------- Captured stdout call -----------------------------\n\n运行限流测试...\n开始负载测试: /health\n并发用户数: 20, 每用户请求数: 10\n\n============================================================\n负载测试结果: GET /health\n============================================================\n总请求数:     200\n成功请求数:   200\n失败请求数:   0\n错误率:       0.00%\n平均响应时间: 0.047s\n最小响应时间: 0.024s\n最大响应时间: 0.070s\n95%响应时间:  0.070s\n99%响应时间:  0.070s\n吞吐量:       2688.25 req/s\n============================================================\n\n=============================== warnings summary ===============================\n.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:323\n.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:323\n.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:323\n.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:323\n.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:323\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)\n\nsrc/core/database.py:34\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/core/database.py:34: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)\n    Base = declarative_base()\n\nsrc/schemas/auth.py:73\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/schemas/auth.py:73: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    @validator('password_confirm')\n\nsrc/schemas/auth.py:162\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/schemas/auth.py:162: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    @validator('password_confirm')\n\nsrc/schemas/auth.py:175\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/schemas/auth.py:175: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    @validator('password_confirm')\n\n.venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298: 17 warnings\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.11/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    warnings.warn(\n\nsrc/utils/cache.py:50\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/utils/cache.py:50: DeprecationWarning: Call to '__init__' function with deprecated usage of input argument/s 'retry_on_timeout'. (TimeoutError is included by default.) -- Deprecated since version 6.0.0.\n    return redis.Redis(\n\n.venv/lib/python3.12/site-packages/oss2/api.py:703\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/oss2/api.py:703: SyntaxWarning: invalid escape sequence '\\&'\n    r'http://your-bucket.oss-cn-hangzhou.aliyuncs.com/logo.jpg?OSSAccessKeyId=YourAccessKeyId\\&Expires=1447178011&Signature=UJfeJgvcypWq6Q%2Bm3IJcSHbvSak%3D'\n\nsrc/schemas/learning.py:255\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/schemas/learning.py:255: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    @validator('status', pre=True)\n\nsrc/schemas/learning.py:266\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/schemas/learning.py:266: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    @validator('subject', pre=True)\n\nsrc/schemas/learning.py:288\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/schemas/learning.py:288: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    @validator('subject', pre=True)\n\nsrc/schemas/learning.py:299\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/schemas/learning.py:299: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    @validator('question_type', pre=True)\n\nsrc/schemas/homework.py:301\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/schemas/homework.py:301: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    @validator('end_date')\n\nsrc/api/v1/endpoints/analytics.py:30\n  /Users/liguoma/my-devs/python/wuhao-tutor/src/api/v1/endpoints/analytics.py:30: DeprecationWarning: `regex` has been deprecated, please use `pattern` instead\n    time_range: str = Query(\"30d\", regex=\"^(7d|30d|90d|all)$\", description=\"时间范围\"),\n\ntests/integration/test_api.py::TestAPIIntegration::test_health_check\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_health_check' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIIntegration::test_health_readiness\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_health_readiness' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIIntegration::test_health_liveness\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_health_liveness' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIIntegration::test_health_metrics\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_health_metrics' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestHomeworkAPI::test_homework_health\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_homework_health' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestHomeworkAPI::test_create_template\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_create_template' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestHomeworkAPI::test_get_templates\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_get_templates' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestHomeworkAPI::test_submit_homework_without_file\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_submit_homework_without_file' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestHomeworkAPI::test_submit_homework_with_invalid_file\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_submit_homework_with_invalid_file' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestHomeworkAPI::test_get_submissions\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_get_submissions' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestLearningAPI::test_ask_question\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_ask_question' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestLearningAPI::test_create_session\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_create_session' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestLearningAPI::test_get_sessions\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_get_sessions' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestLearningAPI::test_submit_feedback\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_submit_feedback' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestFileAPI::test_file_health\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_file_health' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestFileAPI::test_upload_image_file\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_upload_image_file' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestFileAPI::test_upload_invalid_file_type\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_upload_invalid_file_type' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestFileAPI::test_upload_large_file\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_upload_large_file' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestFileAPI::test_get_files\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_get_files' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestFileAPI::test_get_file_stats\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_get_file_stats' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIAuthentication::test_unauthorized_access_homework\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_unauthorized_access_homework' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIAuthentication::test_unauthorized_access_learning\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_unauthorized_access_learning' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIAuthentication::test_unauthorized_access_files\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_unauthorized_access_files' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIAuthentication::test_invalid_token\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_invalid_token' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIErrorHandling::test_invalid_json_request\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_invalid_json_request' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIErrorHandling::test_missing_required_fields\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_missing_required_fields' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIErrorHandling::test_invalid_uuid_parameter\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_invalid_uuid_parameter' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIErrorHandling::test_not_found_resource\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_not_found_resource' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIPerformance::test_health_check_response_time\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_health_check_response_time' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_concurrent_health_checks' requested an async fixture 'setup_method' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-2 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-10 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-5 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-1 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-9 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-7 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-8 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-3 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-4 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\n  /Users/liguoma/my-devs/python/wuhao-tutor/.venv/lib/python3.12/site-packages/_pytest/threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-6 (make_request)\n  \n  Traceback (most recent call last):\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\n      self.run()\n    File \"/Users/liguoma/.local/share/uv/python/cpython-3.12.11-macos-aarch64-none/lib/python3.12/threading.py\", line 1012, in run\n      self._target(*self._args, **self._kwargs)\n    File \"/Users/liguoma/my-devs/python/wuhao-tutor/tests/integration/test_api.py\", line 478, in make_request\n      response = self.client.get(\"/api/v1/health\")\n                 ^^^^^^^^^^^\n  AttributeError: 'TestAPIPerformance' object has no attribute 'client'\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/integration/test_api.py::TestAPIIntegration::test_health_check\nFAILED tests/integration/test_api.py::TestAPIIntegration::test_health_readiness\nFAILED tests/integration/test_api.py::TestAPIIntegration::test_health_liveness\nFAILED tests/integration/test_api.py::TestAPIIntegration::test_health_metrics\nFAILED tests/integration/test_api.py::TestHomeworkAPI::test_homework_health\nFAILED tests/integration/test_api.py::TestHomeworkAPI::test_create_template\nFAILED tests/integration/test_api.py::TestHomeworkAPI::test_get_templates - A...\nFAILED tests/integration/test_api.py::TestHomeworkAPI::test_submit_homework_without_file\nFAILED tests/integration/test_api.py::TestHomeworkAPI::test_submit_homework_with_invalid_file\nFAILED tests/integration/test_api.py::TestHomeworkAPI::test_get_submissions\nFAILED tests/integration/test_api.py::TestLearningAPI::test_ask_question - At...\nFAILED tests/integration/test_api.py::TestLearningAPI::test_create_session - ...\nFAILED tests/integration/test_api.py::TestLearningAPI::test_get_sessions - At...\nFAILED tests/integration/test_api.py::TestLearningAPI::test_submit_feedback\nFAILED tests/integration/test_api.py::TestFileAPI::test_file_health - Attribu...\nFAILED tests/integration/test_api.py::TestFileAPI::test_upload_image_file - A...\nFAILED tests/integration/test_api.py::TestFileAPI::test_upload_invalid_file_type\nFAILED tests/integration/test_api.py::TestFileAPI::test_upload_large_file - A...\nFAILED tests/integration/test_api.py::TestFileAPI::test_get_files - Attribute...\nFAILED tests/integration/test_api.py::TestFileAPI::test_get_file_stats - Attr...\nFAILED tests/integration/test_api.py::TestAPIAuthentication::test_unauthorized_access_homework\nFAILED tests/integration/test_api.py::TestAPIAuthentication::test_unauthorized_access_learning\nFAILED tests/integration/test_api.py::TestAPIAuthentication::test_unauthorized_access_files\nFAILED tests/integration/test_api.py::TestAPIAuthentication::test_invalid_token\nFAILED tests/integration/test_api.py::TestAPIErrorHandling::test_invalid_json_request\nFAILED tests/integration/test_api.py::TestAPIErrorHandling::test_missing_required_fields\nFAILED tests/integration/test_api.py::TestAPIErrorHandling::test_invalid_uuid_parameter\nFAILED tests/integration/test_api.py::TestAPIErrorHandling::test_not_found_resource\nFAILED tests/integration/test_api.py::TestAPIPerformance::test_health_check_response_time\nFAILED tests/integration/test_api.py::TestAPIPerformance::test_concurrent_health_checks\nFAILED tests/integration/test_api.py::test_async_client_health - TypeError: A...\nFAILED tests/performance/test_load.py::TestPerformance::test_health_endpoint_performance\nFAILED tests/performance/test_load.py::TestPerformance::test_api_stress_performance\nFAILED tests/performance/test_load.py::TestPerformance::test_rate_limiting - ...\n================== 34 failed, 35 passed, 74 warnings in 9.41s ==================\n",
    "stderr": "",
    "passed": false
  },
  "frontend_tests": {
    "simulation_tests": [
      {
        "name": "页面加载模拟",
        "description": "模拟页面加载和基本元素检查",
        "passed": true,
        "duration": 150
      },
      {
        "name": "用户交互模拟",
        "description": "模拟用户点击、输入等交互操作",
        "passed": true,
        "duration": 200
      },
      {
        "name": "API调用模拟",
        "description": "模拟前端调用API的流程",
        "passed": true,
        "duration": 300
      },
      {
        "name": "错误处理模拟",
        "description": "模拟网络错误和异常情况的处理",
        "passed": true,
        "duration": 100
      }
    ],
    "total_tests": 4,
    "passed_tests": 4,
    "failed_tests": 0,
    "passed": true
  },
  "integration_tests": {
    "results": {
      "test_suite": "小程序API集成测试",
      "start_time": "2025-10-03T08:14:22.455081",
      "test_results": [
        {
          "test_name": "作业API集成测试",
          "start_time": "2025-10-03T08:14:22.465403",
          "tests": [
            {
              "name": "获取作业模板",
              "status": "failed",
              "error": ""
            },
            {
              "name": "获取模板详情",
              "status": "failed",
              "error": ""
            },
            {
              "name": "提交文本作业",
              "status": "failed",
              "error": ""
            }
          ],
          "passed": 0,
          "failed": 3,
          "end_time": "2025-10-03T08:14:22.469716"
        },
        {
          "test_name": "学习问答API集成测试",
          "start_time": "2025-10-03T08:14:22.469724",
          "tests": [
            {
              "name": "创建学习会话",
              "status": "failed",
              "error": ""
            },
            {
              "name": "搜索问题",
              "status": "passed",
              "note": "搜索功能暂未实现（预期行为）",
              "data": {
                "search_results": []
              }
            }
          ],
          "passed": 1,
          "failed": 1,
          "end_time": "2025-10-03T08:14:22.482448"
        },
        {
          "test_name": "数据分析API集成测试",
          "start_time": "2025-10-03T08:14:22.482459",
          "tests": [
            {
              "name": "获取分析概览",
              "status": "failed",
              "error": ""
            },
            {
              "name": "获取详细分析",
              "status": "failed",
              "error": ""
            },
            {
              "name": "获取学习进度",
              "status": "failed",
              "error": ""
            },
            {
              "name": "创建学习目标",
              "status": "passed",
              "note": "学习目标功能暂未实现（预期行为）",
              "data": {
                "goal_created": false
              }
            }
          ],
          "passed": 1,
          "failed": 3,
          "end_time": "2025-10-03T08:14:22.484284"
        }
      ],
      "summary": {
        "total_test_suites": 3,
        "passed_test_suites": 0,
        "failed_test_suites": 3,
        "total_tests": 9,
        "passed_tests": 2,
        "failed_tests": 7
      },
      "end_time": "2025-10-03T08:14:22.484348"
    },
    "passed": false
  },
  "summary": {
    "total_tests": 14,
    "passed_tests": 6,
    "failed_tests": 8,
    "pass_rate": "42.9%",
    "overall_status": "failed"
  }
}