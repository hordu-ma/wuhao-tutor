# 五好伴学小程序 - 体验版管理手册

> 快速参考：如何管理和更新体验版
> 适用于：开发者和产品经理

---

## 🎯 体验版 vs 正式版快速对比

| 项目     | 体验版                | 正式版             |
| -------- | --------------------- | ------------------ |
| **审核** | ❌ 无需审核，即时生效 | ✅ 需要 1-7 天审核 |
| **用户** | 最多 100 个指定成员   | 所有微信用户       |
| **搜索** | ❌ 不可搜索           | ✅ 可以搜索        |
| **用途** | 内测、收集反馈        | 正式运营           |
| **更新** | 随时更新，无限制      | 需重新审核         |
| **数据** | 使用生产数据库        | 使用生产数据库     |

---

## 📋 体验版发布完整流程

### Step 1: 添加体验成员（首次必做）

```
登录：https://mp.weixin.qq.com/
路径：管理 → 成员管理 → 体验成员
操作：点击"添加成员"

添加方式：
  方式 1：输入微信号
  方式 2：扫描用户微信二维码

限制：最多 100 人
```

**重要**：⚠️ 没有添加为体验成员的用户无法使用体验版！

---

### Step 2: 上传代码

#### 在微信开发者工具中：

```bash
# 1. 进入项目目录
cd /Users/liguoma/my-devs/python/wuhao-tutor/miniprogram

# 2. 确保依赖已安装
npm install

# 3. 运行代码检查（可选）
npm run lint
npm run type-check
```

#### 在微信开发者工具中：

```
1. 打开项目（miniprogram 目录）
2. 点击"工具" → "构建 npm"（首次或有更新时）
3. 点击"预览"测试功能
4. 点击"上传"按钮

上传信息填写：
┌──────────────────────────────┐
│ 版本号：1.0.0-beta.1        │
│ （或：1.0.0-beta.2）        │
│                              │
│ 项目备注：                   │
│ 体验版测试 - 修复XX问题      │
│ 新增：XX功能                 │
│ 优化：XX体验                 │
└──────────────────────────────┘

5. 等待上传完成（2-5 分钟）
```

---

### Step 3: 设置为体验版

```
登录：https://mp.weixin.qq.com/
路径：管理 → 版本管理 → 开发版本

操作：
  1. 找到刚上传的版本
  2. 点击"设为体验版"按钮
  3. 确认设置

结果：
  ✅ 版本移到最上方
  ✅ 显示"体验版"标签
  ✅ 生成体验版二维码
```

---

### Step 4: 分享给测试用户

#### 获取体验版二维码：

```
路径：管理 → 版本管理 → 体验版
操作：点击"体验版二维码"
下载：保存二维码图片
```

#### 分享方式：

**方式 1：通过二维码（推荐）**

```
发送二维码图片给测试用户
用户在微信中长按识别二维码
自动打开体验版小程序
```

**方式 2：通过小程序路径**

```
分享路径：pages/index/index
用户通过路径访问
```

**方式 3：通过测试指引文档**

```
发送：docs/miniprogram/testing-guide.md
内含详细使用说明和测试清单
```

---

## 🔄 更新体验版

### 快速更新流程

```
1. 修改代码
2. 本地测试
3. 上传新版本（版本号递增）
4. 重新"设为体验版"
5. 通知测试用户更新

⚠️ 用户下次打开小程序时自动更新
⚠️ 无需重新添加体验成员
⚠️ 无需重新扫码
```

### 版本号命名规范

```
格式：主版本.次版本.修订版-beta.测试轮次

示例：
  1.0.0-beta.1  # 第一轮测试
  1.0.0-beta.2  # 修复问题后的第二轮
  1.0.0-beta.3  # 第三轮测试
  1.0.0         # 正式版本
```

---

## 📊 体验版管理最佳实践

### 1. 测试成员管理

**建议分组**：

```
内部测试（5-10人）：
  - 开发团队
  - 产品经理
  - 设计师

外部测试（20-50人）：
  - 种子用户
  - 目标用户代表
  - 家长和学生

备用名额（10人）：
  - 应对临时测试需求
```

**定期清理**：

```
- 每轮测试后移除不活跃成员
- 保持测试团队精简高效
- 优先保留提供有效反馈的用户
```

---

### 2. 测试周期安排

**建议时间线**：

```
第 1-2 天：功能测试
  - 内部团队测试核心功能
  - 修复明显 Bug
  - 确保基本可用

第 3-7 天：第一轮外部测试
  - 邀请 20-30 个外部用户
  - 收集问题和建议
  - 重点测试用户体验

第 8-10 天：问题修复
  - 修复反馈的问题
  - 优化用户体验
  - 上传新版本（beta.2）

第 11-14 天：第二轮外部测试
  - 扩大测试范围（50 人）
  - 验证修复效果
  - 最后的体验优化

第 15 天+：准备正式发布
  - 确认所有功能稳定
  - 准备审核材料
  - 提交正式审核
```

---

### 3. 反馈收集

**推荐工具**：

1. **微信群**

   ```
   创建内测专用群
   便于实时沟通
   快速收集反馈
   ```

2. **在线表格**

   ```
   腾讯文档/飞书文档
   结构化收集问题
   便于统计分析
   ```

3. **问卷调查**
   ```
   问卷星/腾讯问卷
   定期发送调查问卷
   收集满意度评分
   ```

**反馈分类**：

```
P0 - 严重问题（立即修复）：
  - 功能无法使用
  - 导致崩溃
  - 数据丢失

P1 - 重要问题（本轮修复）：
  - 影响核心功能
  - 用户体验较差
  - 高频操作不便

P2 - 一般问题（下轮优化）：
  - 小的体验问题
  - 非核心功能
  - 优化建议

P3 - 低优先级（后续考虑）：
  - 新功能建议
  - 个性化需求
  - 锦上添花的优化
```

---

## 🐛 常见问题处理

### Q1：体验版无法访问

**可能原因**：

- 用户未被添加为体验成员
- 体验版被新版本覆盖
- 小程序服务异常

**解决方案**：

1. 检查用户是否在体验成员列表中
2. 重新设置为体验版
3. 检查后端服务是否正常

---

### Q2：部分用户看不到最新功能

**原因**：小程序缓存未更新

**解决方案**：

```
让用户操作：
1. 长按小程序图标
2. 点击"删除"
3. 重新扫码打开体验版
```

---

### Q3：体验版和开发版有什么区别？

**区别**：

| 项目     | 开发版           | 体验版                |
| -------- | ---------------- | --------------------- |
| **用途** | 开发者自己测试   | 分享给测试用户        |
| **权限** | 需要开发者权限   | 只需体验成员权限      |
| **数量** | 与开发者数量相同 | 所有成员共享 1 个版本 |

---

### Q4：可以同时有多个体验版吗？

**回答**：❌ 不可以

- 一次只能有 1 个体验版
- 新设置的体验版会覆盖旧版本
- 建议通过版本号区分不同测试轮次

---

### Q5：体验版数据会保留吗？

**回答**：✅ 会保留

- 体验版使用生产数据库
- 测试数据在正式版也能看到
- 注意：测试过程中产生的数据是真实数据

**建议**：

- 创建专门的测试账号
- 在数据库中标记测试数据
- 正式发布前清理测试数据

---

## 📝 体验版检查清单

### 上传前检查

- [ ] 代码已通过 lint 检查
- [ ] 核心功能已自测
- [ ] API 接口配置正确（生产域名）
- [ ] 版本号已更新
- [ ] 更新日志已记录

### 设置后检查

- [ ] 体验版二维码可正常识别
- [ ] 测试成员可以访问
- [ ] 所有功能正常运行
- [ ] 数据显示正确
- [ ] 无明显性能问题

### 通知测试用户

- [ ] 发送体验版二维码
- [ ] 发送测试指引文档
- [ ] 说明本次更新内容
- [ ] 说明重点测试项
- [ ] 提供反馈渠道

---

## 🎯 从体验版到正式版

### 准备正式发布

**确认以下事项**：

```
功能完整性：
  ✅ 所有核心功能已实现
  ✅ 已修复所有 P0/P1 问题
  ✅ 用户体验流畅

稳定性：
  ✅ 连续 3 天无严重问题
  ✅ 崩溃率 < 1%
  ✅ 性能指标达标

合规性：
  ✅ 隐私政策已完善
  ✅ 用户协议已添加
  ✅ 服务类目正确
  ✅ 已准备审核材料
```

### 正式版发布流程

```
1. 上传最终版本
   版本号：1.0.0（去掉 beta）

2. 提交审核
   路径：管理 → 版本管理 → 提交审核
   填写：审核信息（参考部署文档）

3. 等待审核
   时间：1-7 个工作日
   关注：审核状态通知

4. 审核通过后发布
   操作：点击"发布"按钮
   生效：5-10 分钟

5. 验证线上版本
   搜索：五好伴学
   测试：核心功能
```

---

## 📞 获取帮助

**相关文档**：

- [小程序部署指南](../deployment/miniprogram-deployment-guide.md)
- [测试指引文档](testing-guide.md)
- [开发文档](../README.md)

**技术支持**：

- GitHub Issues: https://github.com/hordu-ma/wuhao-tutor/issues
- 项目文档: https://github.com/hordu-ma/wuhao-tutor

---

_最后更新：2025-10-19_  
_维护者：hordu-ma_
