# API ç«¯ç‚¹æ–‡æ¡£

> **æœ€åæ›´æ–°**: 2025-10-12
> **API ç‰ˆæœ¬**: v1
> **åŸºç¡€è·¯å¾„**: `/api/v1`
> **çŠ¶æ€**: âœ… ç”Ÿäº§ç¯å¢ƒè¿è¡Œä¸­

æœ¬æ–‡æ¡£åˆ—å‡ºæ‰€æœ‰å·²å®ç°çš„ API ç«¯ç‚¹ã€‚æ‰€æœ‰ç«¯ç‚¹å‡å·²åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éƒ¨ç½²å’Œæµ‹è¯•ã€‚

---

## ğŸ“‹ ç›®å½•

- [è®¤è¯æ¨¡å— (auth)](#è®¤è¯æ¨¡å—-auth) - 20 ä¸ªç«¯ç‚¹
- [å­¦ä¹ é—®ç­” (learning)](#å­¦ä¹ é—®ç­”-learning) - 22 ä¸ªç«¯ç‚¹
- [ä½œä¸šæ‰¹æ”¹ (homework)](#ä½œä¸šæ‰¹æ”¹-homework) - 17 ä¸ªç«¯ç‚¹
- [é”™é¢˜æ‰‹å†Œ (mistakes)](#é”™é¢˜æ‰‹å†Œ-mistakes) - 7 ä¸ªç«¯ç‚¹
- [å­¦æƒ…åˆ†æ (analytics)](#å­¦æƒ…åˆ†æ-analytics) - 7 ä¸ªç«¯ç‚¹
- [æ–‡ä»¶ç®¡ç† (file)](#æ–‡ä»¶ç®¡ç†-file) - 12 ä¸ªç«¯ç‚¹
- [æ¯æ—¥ç›®æ ‡ (goals)](#æ¯æ—¥ç›®æ ‡-goals) - 1 ä¸ªç«¯ç‚¹
- [ç”¨æˆ·ç»Ÿè®¡ (user)](#ç”¨æˆ·ç»Ÿè®¡-user) - 2 ä¸ªç«¯ç‚¹
- [å¥åº·æ£€æŸ¥ (health)](#å¥åº·æ£€æŸ¥-health) - 6 ä¸ªç«¯ç‚¹

**æ€»è®¡**: 94+ ä¸ª API ç«¯ç‚¹

---

## ğŸ” è®¤è¯è¯´æ˜

### è®¤è¯æ–¹å¼

- **æ–¹å¼**: Bearer Token (JWT)
- **è¯·æ±‚å¤´**: `Authorization: Bearer <access_token>`
- **Token ç±»å‹**: Access Token + Refresh Token

### è®¤è¯è¦æ±‚

| æ ‡è®° | è¯´æ˜         |
| ---- | ------------ |
| ğŸ”“   | æ— éœ€è®¤è¯     |
| ğŸ”’   | éœ€è¦è®¤è¯     |
| ğŸ‘‘   | éœ€è¦ç‰¹å®šè§’è‰² |

---

## è®¤è¯æ¨¡å— (auth)

**è·¯ç”±å‰ç¼€**: `/api/v1/auth`

### æ³¨å†Œä¸ç™»å½•

| æ–¹æ³• | è·¯å¾„            | è®¤è¯ | è¯´æ˜           |
| ---- | --------------- | ---- | -------------- |
| POST | `/register`     | ğŸ”“   | ç”¨æˆ·æ³¨å†Œ       |
| POST | `/login`        | ğŸ”“   | ç”¨æˆ·ç™»å½•       |
| POST | `/wechat-login` | ğŸ”“   | å¾®ä¿¡å°ç¨‹åºç™»å½• |
| POST | `/refresh`      | ğŸ”“   | åˆ·æ–°è®¿é—®ä»¤ç‰Œ   |
| POST | `/logout`       | ğŸ”’   | ç”¨æˆ·ç™»å‡º       |

**æ³¨å†Œè¯·æ±‚ç¤ºä¾‹**:

```json
{
  "phone": "13800138000",
  "password": "SecurePass123",
  "role": "student"
}
```

**ç™»å½•å“åº”ç¤ºä¾‹**:

```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "token_type": "bearer",
  "expires_in": 3600,
  "user": {
    "id": "uuid",
    "phone": "13800138000",
    "role": "student"
  }
}
```

### ç”¨æˆ·ç®¡ç†

| æ–¹æ³• | è·¯å¾„          | è®¤è¯ | è¯´æ˜             |
| ---- | ------------- | ---- | ---------------- |
| GET  | `/me`         | ğŸ”’   | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ |
| PUT  | `/profile`    | ğŸ”’   | æ›´æ–°ç”¨æˆ·èµ„æ–™     |
| POST | `/avatar`     | ğŸ”’   | ä¸Šä¼ å¤´åƒ         |
| POST | `/deactivate` | ğŸ”’   | åœç”¨è´¦å·         |

### å¯†ç ç®¡ç†

| æ–¹æ³• | è·¯å¾„               | è®¤è¯ | è¯´æ˜     |
| ---- | ------------------ | ---- | -------- |
| POST | `/change-password` | ğŸ”’   | ä¿®æ”¹å¯†ç  |
| POST | `/forgot-password` | ğŸ”“   | å¿˜è®°å¯†ç  |
| POST | `/reset-password`  | ğŸ”“   | é‡ç½®å¯†ç  |

### éªŒè¯åŠŸèƒ½

| æ–¹æ³• | è·¯å¾„                      | è®¤è¯ | è¯´æ˜             |
| ---- | ------------------------- | ---- | ---------------- |
| POST | `/send-verification-code` | ğŸ”“   | å‘é€éªŒè¯ç        |
| POST | `/verify-email`           | ğŸ”“   | éªŒè¯é‚®ç®±         |
| POST | `/resend-verification`    | ğŸ”“   | é‡å‘éªŒè¯ç        |
| GET  | `/verify-token`           | ğŸ”’   | éªŒè¯ä»¤ç‰Œæœ‰æ•ˆæ€§   |
| GET  | `/check-username`         | ğŸ”“   | æ£€æŸ¥ç”¨æˆ·åå¯ç”¨æ€§ |
| GET  | `/check-email`            | ğŸ”“   | æ£€æŸ¥é‚®ç®±å¯ç”¨æ€§   |

### åŒå› ç´ è®¤è¯

| æ–¹æ³• | è·¯å¾„           | è®¤è¯ | è¯´æ˜           |
| ---- | -------------- | ---- | -------------- |
| POST | `/2fa/enable`  | ğŸ”’   | å¯ç”¨åŒå› ç´ è®¤è¯ |
| POST | `/2fa/disable` | ğŸ”’   | ç¦ç”¨åŒå› ç´ è®¤è¯ |

---

## å­¦ä¹ é—®ç­” (learning)

**è·¯ç”±å‰ç¼€**: `/api/v1/learning`

### AI é—®ç­”

| æ–¹æ³• | è·¯å¾„             | è®¤è¯ | è¯´æ˜        |
| ---- | ---------------- | ---- | ----------- |
| POST | `/ask`           | ğŸ”’   | AI é—®ç­”æé—® |
| POST | `/feedback`      | ğŸ”’   | æäº¤åé¦ˆ    |
| POST | `/voice-to-text` | ğŸ”’   | è¯­éŸ³è½¬æ–‡å­—  |

**æé—®è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "question": "å¦‚ä½•æ±‚è§£ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹ï¼Ÿ",
  "session_id": "uuid",
  "context": {
    "subject": "æ•°å­¦",
    "grade": 8
  },
  "images": []
}
```

**æé—®å“åº”ç¤ºä¾‹**:

```json
{
  "success": true,
  "data": {
    "answer": "ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹çš„æ±‚è§£æ–¹æ³•æœ‰...",
    "question_id": "uuid",
    "session_id": "uuid",
    "knowledge_points": ["ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹", "æ±‚æ ¹å…¬å¼"],
    "difficulty": 3,
    "response_time": 1.23
  }
}
```

### ä¼šè¯ç®¡ç†

| æ–¹æ³•   | è·¯å¾„                      | è®¤è¯ | è¯´æ˜         |
| ------ | ------------------------- | ---- | ------------ |
| POST   | `/sessions`               | ğŸ”’   | åˆ›å»ºä¼šè¯     |
| GET    | `/sessions`               | ğŸ”’   | è·å–ä¼šè¯åˆ—è¡¨ |
| GET    | `/sessions/{id}`          | ğŸ”’   | è·å–ä¼šè¯è¯¦æƒ… |
| PUT    | `/sessions/{id}`          | ğŸ”’   | æ›´æ–°ä¼šè¯     |
| PATCH  | `/sessions/{id}`          | ğŸ”’   | éƒ¨åˆ†æ›´æ–°ä¼šè¯ |
| DELETE | `/sessions/{id}`          | ğŸ”’   | åˆ é™¤ä¼šè¯     |
| PATCH  | `/sessions/{id}/archive`  | ğŸ”’   | å½’æ¡£ä¼šè¯     |
| PATCH  | `/sessions/{id}/activate` | ğŸ”’   | æ¿€æ´»ä¼šè¯     |

### é—®é¢˜å†å²

| æ–¹æ³• | è·¯å¾„                       | è®¤è¯ | è¯´æ˜             |
| ---- | -------------------------- | ---- | ---------------- |
| GET  | `/sessions/{id}/questions` | ğŸ”’   | è·å–ä¼šè¯é—®ç­”å†å² |
| GET  | `/sessions/{id}/history`   | ğŸ”’   | è·å–ä¼šè¯å®Œæ•´å†å² |
| GET  | `/questions`               | ğŸ”’   | è·å–æ‰€æœ‰é—®é¢˜     |
| GET  | `/questions/history`       | ğŸ”’   | è·å–é—®é¢˜å†å²     |
| GET  | `/questions/search`        | ğŸ”’   | æœç´¢é—®é¢˜         |
| GET  | `/questions/{id}`          | ğŸ”’   | è·å–é—®é¢˜è¯¦æƒ…     |

### ç»Ÿè®¡ä¿¡æ¯

| æ–¹æ³• | è·¯å¾„            | è®¤è¯ | è¯´æ˜       |
| ---- | --------------- | ---- | ---------- |
| GET  | `/stats/daily`  | ğŸ”’   | è·å–æ—¥ç»Ÿè®¡ |
| GET  | `/stats/weekly` | ğŸ”’   | è·å–å‘¨æŠ¥å‘Š |

### å¥åº·æ£€æŸ¥

| æ–¹æ³• | è·¯å¾„      | è®¤è¯ | è¯´æ˜             |
| ---- | --------- | ---- | ---------------- |
| GET  | `/health` | ğŸ”“   | å­¦ä¹ æ¨¡å—å¥åº·æ£€æŸ¥ |
| GET  | `/test`   | ğŸ”“   | æµ‹è¯•ç«¯ç‚¹         |

---

## ä½œä¸šæ‰¹æ”¹ (homework)

**è·¯ç”±å‰ç¼€**: `/api/v1/homework`

### ä½œä¸šæ¨¡æ¿

| æ–¹æ³• | è·¯å¾„                       | è®¤è¯ | è¯´æ˜         |
| ---- | -------------------------- | ---- | ------------ |
| GET  | `/templates`               | ğŸ”’   | è·å–æ¨¡æ¿åˆ—è¡¨ |
| POST | `/templates`               | ğŸ”’   | åˆ›å»ºä½œä¸šæ¨¡æ¿ |
| GET  | `/templates/{template_id}` | ğŸ”’   | è·å–æ¨¡æ¿è¯¦æƒ… |

### ä½œä¸šæäº¤

| æ–¹æ³• | è·¯å¾„                                      | è®¤è¯ | è¯´æ˜         |
| ---- | ----------------------------------------- | ---- | ------------ |
| POST | `/submit`                                 | ğŸ”’   | æäº¤ä½œä¸š     |
| GET  | `/submissions`                            | ğŸ”’   | è·å–æäº¤åˆ—è¡¨ |
| GET  | `/submissions/{submission_id}`            | ğŸ”’   | è·å–æäº¤è¯¦æƒ… |
| PUT  | `/submissions/{submission_id}`            | ğŸ”’   | æ›´æ–°æäº¤     |
| GET  | `/submissions/{submission_id}/correction` | ğŸ”’   | è·å–æ‰¹æ”¹ç»“æœ |

### æ‰¹æ”¹åŠŸèƒ½

| æ–¹æ³• | è·¯å¾„            | è®¤è¯ | è¯´æ˜     |
| ---- | --------------- | ---- | -------- |
| POST | `/{id}/correct` | ğŸ”’   | æ‰¹æ”¹ä½œä¸š |
| POST | `/{id}/retry`   | ğŸ”’   | é‡æ–°æ‰¹æ”¹ |

**æ‰¹æ”¹è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "homework_id": "uuid",
  "answers": [
    {
      "question_id": "q1",
      "answer": "å­¦ç”Ÿç­”æ¡ˆ"
    }
  ]
}
```

### ä½œä¸šç®¡ç†

| æ–¹æ³•   | è·¯å¾„    | è®¤è¯ | è¯´æ˜     |
| ------ | ------- | ---- | -------- |
| GET    | `/list` | ğŸ”’   | ä½œä¸šåˆ—è¡¨ |
| GET    | `/{id}` | ğŸ”’   | ä½œä¸šè¯¦æƒ… |
| PUT    | `/{id}` | ğŸ”’   | æ›´æ–°ä½œä¸š |
| DELETE | `/{id}` | ğŸ”’   | åˆ é™¤ä½œä¸š |

### ç»Ÿè®¡ä¿¡æ¯

| æ–¹æ³• | è·¯å¾„     | è®¤è¯ | è¯´æ˜     |
| ---- | -------- | ---- | -------- |
| GET  | `/stats` | ğŸ”’   | ä½œä¸šç»Ÿè®¡ |

### å¥åº·æ£€æŸ¥

| æ–¹æ³• | è·¯å¾„      | è®¤è¯ | è¯´æ˜             |
| ---- | --------- | ---- | ---------------- |
| GET  | `/health` | ğŸ”“   | ä½œä¸šæ¨¡å—å¥åº·æ£€æŸ¥ |

### å…¼å®¹æ€§ API

**è·¯ç”±å‰ç¼€**: `/api/v1/homework-compatibility`

| æ–¹æ³• | è·¯å¾„                     | è®¤è¯ | è¯´æ˜             |
| ---- | ------------------------ | ---- | ---------------- |
| GET  | `/list`                  | ğŸ”’   | å…¼å®¹æ—§ç‰ˆåˆ—è¡¨æ¥å£ |
| GET  | `/{homework_id}`         | ğŸ”’   | å…¼å®¹æ—§ç‰ˆè¯¦æƒ…æ¥å£ |
| POST | `/{homework_id}/correct` | ğŸ”’   | å…¼å®¹æ—§ç‰ˆæ‰¹æ”¹æ¥å£ |
| GET  | `/{homework_id}/ocr`     | ğŸ”’   | OCR è¯†åˆ«         |

---

## é”™é¢˜æ‰‹å†Œ (mistakes)

**è·¯ç”±å‰ç¼€**: `/api/v1/mistakes`

### é”™é¢˜ç®¡ç†

| æ–¹æ³•   | è·¯å¾„            | è®¤è¯ | è¯´æ˜         |
| ------ | --------------- | ---- | ------------ |
| GET    | `/`             | ğŸ”’   | è·å–é”™é¢˜åˆ—è¡¨ |
| POST   | `/`             | ğŸ”’   | æ·»åŠ é”™é¢˜     |
| GET    | `/{mistake_id}` | ğŸ”’   | è·å–é”™é¢˜è¯¦æƒ… |
| DELETE | `/{mistake_id}` | ğŸ”’   | åˆ é™¤é”™é¢˜     |

**é”™é¢˜åˆ—è¡¨æŸ¥è¯¢å‚æ•°**:

```
?page=1
&page_size=20
&subject=æ•°å­¦
&mastery_status=learning
&search=äºŒæ¬¡æ–¹ç¨‹
```

**æ·»åŠ é”™é¢˜è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "title": "ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹æ±‚è§£",
  "question_content": "æ±‚è§£æ–¹ç¨‹ xÂ² - 5x + 6 = 0",
  "student_answer": "x = 2",
  "correct_answer": "x = 2 æˆ– x = 3",
  "explanation": "éœ€è¦æ±‚å‡ºä¸¤ä¸ªæ ¹",
  "subject": "æ•°å­¦",
  "difficulty_level": 3,
  "knowledge_points": ["ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹", "å› å¼åˆ†è§£"],
  "image_urls": []
}
```

### å¤ä¹ åŠŸèƒ½

| æ–¹æ³• | è·¯å¾„                   | è®¤è¯ | è¯´æ˜             |
| ---- | ---------------------- | ---- | ---------------- |
| GET  | `/today-review`        | ğŸ”’   | è·å–ä»Šæ—¥å¤ä¹ ä»»åŠ¡ |
| POST | `/{mistake_id}/review` | ğŸ”’   | å®Œæˆå¤ä¹          |

**å®Œæˆå¤ä¹ è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "review_result": "correct",
  "confidence_level": 4,
  "time_spent": 120,
  "user_answer": "x = 2 æˆ– x = 3",
  "notes": "å·²æŒæ¡"
}
```

### ç»Ÿè®¡åˆ†æ

| æ–¹æ³• | è·¯å¾„          | è®¤è¯ | è¯´æ˜         |
| ---- | ------------- | ---- | ------------ |
| GET  | `/statistics` | ğŸ”’   | è·å–é”™é¢˜ç»Ÿè®¡ |

**ç»Ÿè®¡å“åº”ç¤ºä¾‹**:

```json
{
  "total_mistakes": 45,
  "mastered_count": 12,
  "learning_count": 20,
  "new_count": 13,
  "by_subject": {
    "æ•°å­¦": 25,
    "ç‰©ç†": 12,
    "è‹±è¯­": 8
  },
  "by_difficulty": {
    "1": 5,
    "2": 15,
    "3": 18,
    "4": 5,
    "5": 2
  },
  "review_completion_rate": 0.73
}
```

---

## å­¦æƒ…åˆ†æ (analytics)

**è·¯ç”±å‰ç¼€**: `/api/v1/analytics`

### å­¦ä¹ ç»Ÿè®¡

| æ–¹æ³• | è·¯å¾„                 | è®¤è¯ | è¯´æ˜         |
| ---- | -------------------- | ---- | ------------ |
| GET  | `/learning-stats`    | ğŸ”’   | å­¦ä¹ ç»Ÿè®¡æ¦‚è§ˆ |
| GET  | `/learning-progress` | ğŸ”’   | å­¦ä¹ è¿›åº¦è¶‹åŠ¿ |
| GET  | `/user/stats`        | ğŸ”’   | ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯ |

**å­¦ä¹ è¿›åº¦æŸ¥è¯¢å‚æ•°**:

```
?days=7        # æœ€è¿‘7å¤©
&granularity=day  # ç²’åº¦: day/week/month
```

### çŸ¥è¯†ç‚¹åˆ†æ

| æ–¹æ³• | è·¯å¾„                | è®¤è¯ | è¯´æ˜           |
| ---- | ------------------- | ---- | -------------- |
| GET  | `/knowledge-points` | ğŸ”’   | çŸ¥è¯†ç‚¹æŒæ¡æƒ…å†µ |
| GET  | `/knowledge-map`    | ğŸ”’   | çŸ¥è¯†å›¾è°±æ•°æ®   |

### å­¦ç§‘ç»Ÿè®¡

| æ–¹æ³• | è·¯å¾„             | è®¤è¯ | è¯´æ˜         |
| ---- | ---------------- | ---- | ------------ |
| GET  | `/subject-stats` | ğŸ”’   | å­¦ç§‘ç»Ÿè®¡åˆ†æ |

**å­¦ç§‘ç»Ÿè®¡å“åº”ç¤ºä¾‹**:

```json
{
  "subjects": [
    {
      "subject": "æ•°å­¦",
      "total_questions": 156,
      "correct_count": 120,
      "accuracy": 0.77,
      "study_time": 3600,
      "mastery_points": 45,
      "weak_points": ["ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹", "ä¸‰è§’å‡½æ•°"]
    }
  ]
}
```

### å¥åº·æ£€æŸ¥

| æ–¹æ³• | è·¯å¾„      | è®¤è¯ | è¯´æ˜             |
| ---- | --------- | ---- | ---------------- |
| GET  | `/health` | ğŸ”“   | åˆ†ææ¨¡å—å¥åº·æ£€æŸ¥ |

---

## æ–‡ä»¶ç®¡ç† (file)

**è·¯ç”±å‰ç¼€**: `/api/v1/files`

### æ–‡ä»¶ä¸Šä¼ 

| æ–¹æ³• | è·¯å¾„                         | è®¤è¯ | è¯´æ˜             |
| ---- | ---------------------------- | ---- | ---------------- |
| POST | `/upload`                    | ğŸ”’   | é€šç”¨æ–‡ä»¶ä¸Šä¼      |
| POST | `/upload-image-for-learning` | ğŸ”’   | å­¦ä¹ é—®ç­”å›¾ç‰‡ä¸Šä¼  |
| POST | `/upload-for-ai`             | ğŸ”’   | AI åˆ†æå›¾ç‰‡ä¸Šä¼   |

**ä¸Šä¼ è¯·æ±‚** (multipart/form-data):

```
file: <binary>
category: learning/homework/avatar
```

**ä¸Šä¼ å“åº”ç¤ºä¾‹**:

```json
{
  "success": true,
  "data": {
    "file_id": "uuid",
    "filename": "image.jpg",
    "url": "/api/v1/files/ai/image.jpg",
    "size": 102400,
    "content_type": "image/jpeg"
  }
}
```

### æ–‡ä»¶è®¿é—®

| æ–¹æ³•   | è·¯å¾„                  | è®¤è¯ | è¯´æ˜       |
| ------ | --------------------- | ---- | ---------- |
| GET    | `/`                   | ğŸ”’   | æ–‡ä»¶åˆ—è¡¨   |
| GET    | `/{file_id}`          | ğŸ”’   | æ–‡ä»¶å…ƒæ•°æ® |
| GET    | `/{file_id}/download` | ğŸ”’   | ä¸‹è½½æ–‡ä»¶   |
| GET    | `/{file_id}/preview`  | ğŸ”’   | é¢„è§ˆæ–‡ä»¶   |
| DELETE | `/{file_id}`          | ğŸ”’   | åˆ é™¤æ–‡ä»¶   |

### ç‰¹æ®Šè·¯å¾„

| æ–¹æ³• | è·¯å¾„                  | è®¤è¯ | è¯´æ˜             |
| ---- | --------------------- | ---- | ---------------- |
| GET  | `/avatars/{filename}` | ğŸ”“   | è·å–å¤´åƒ         |
| GET  | `/ai/{filename}`      | ğŸ”’   | è·å– AI åˆ†æå›¾ç‰‡ |

### ç»Ÿè®¡ä¿¡æ¯

| æ–¹æ³• | è·¯å¾„             | è®¤è¯ | è¯´æ˜         |
| ---- | ---------------- | ---- | ------------ |
| GET  | `/stats/summary` | ğŸ”’   | æ–‡ä»¶ç»Ÿè®¡æ¦‚è§ˆ |

### å¥åº·æ£€æŸ¥

| æ–¹æ³• | è·¯å¾„      | è®¤è¯ | è¯´æ˜             |
| ---- | --------- | ---- | ---------------- |
| GET  | `/health` | ğŸ”“   | æ–‡ä»¶æ¨¡å—å¥åº·æ£€æŸ¥ |

---

## æ¯æ—¥ç›®æ ‡ (goals)

**è·¯ç”±å‰ç¼€**: `/api/v1/goals`

| æ–¹æ³• | è·¯å¾„           | è®¤è¯ | è¯´æ˜             |
| ---- | -------------- | ---- | ---------------- |
| GET  | `/daily-goals` | ğŸ”’   | è·å–æ¯æ—¥å­¦ä¹ ç›®æ ‡ |

**å“åº”ç¤ºä¾‹**:

```json
{
  "date": "2025-10-12",
  "goals": [
    {
      "type": "study_time",
      "target": 3600,
      "current": 2400,
      "progress": 0.67,
      "completed": false
    },
    {
      "type": "questions_answered",
      "target": 20,
      "current": 15,
      "progress": 0.75,
      "completed": false
    },
    {
      "type": "mistakes_reviewed",
      "target": 5,
      "current": 5,
      "progress": 1.0,
      "completed": true
    }
  ]
}
```

---

## ç”¨æˆ·ç»Ÿè®¡ (user)

**è·¯ç”±å‰ç¼€**: `/api/v1/user`

| æ–¹æ³• | è·¯å¾„          | è®¤è¯ | è¯´æ˜         |
| ---- | ------------- | ---- | ------------ |
| GET  | `/activities` | ğŸ”’   | ç”¨æˆ·æ´»åŠ¨è®°å½• |
| GET  | `/stats`      | ğŸ”’   | ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯ |

---

## å¥åº·æ£€æŸ¥ (health)

**è·¯ç”±å‰ç¼€**: `/api/v1/health`

| æ–¹æ³• | è·¯å¾„           | è®¤è¯ | è¯´æ˜         |
| ---- | -------------- | ---- | ------------ |
| GET  | `/`            | ğŸ”“   | ç»¼åˆå¥åº·æ£€æŸ¥ |
| GET  | `/readiness`   | ğŸ”“   | å°±ç»ªæ¢é’ˆ     |
| GET  | `/liveness`    | ğŸ”“   | å­˜æ´»æ¢é’ˆ     |
| GET  | `/metrics`     | ğŸ”“   | ç³»ç»ŸæŒ‡æ ‡     |
| GET  | `/performance` | ğŸ”“   | æ€§èƒ½æŒ‡æ ‡     |
| GET  | `/rate-limits` | ğŸ”’   | é™æµçŠ¶æ€     |

**å¥åº·æ£€æŸ¥å“åº”ç¤ºä¾‹**:

```json
{
  "status": "healthy",
  "timestamp": "2025-10-12T10:30:00Z",
  "version": "0.3.0",
  "checks": {
    "database": "healthy",
    "ai_service": "healthy",
    "cache": "healthy",
    "storage": "healthy"
  }
}
```

---

## ğŸ“Š é€šç”¨å“åº”æ ¼å¼

### æˆåŠŸå“åº”

```json
{
  "success": true,
  "data": { ... },
  "message": "æ“ä½œæˆåŠŸ"
}
```

### é”™è¯¯å“åº”

```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "è¯·æ±‚å‚æ•°é”™è¯¯",
    "details": {
      "field": "phone",
      "reason": "æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®"
    }
  }
}
```

### åˆ†é¡µå“åº”

```json
{
  "success": true,
  "data": {
    "items": [...],
    "total": 100,
    "page": 1,
    "page_size": 20,
    "total_pages": 5,
    "has_more": true
  }
}
```

---

## ğŸš¦ HTTP çŠ¶æ€ç 

| çŠ¶æ€ç  | è¯´æ˜             |
| ------ | ---------------- |
| 200    | è¯·æ±‚æˆåŠŸ         |
| 201    | åˆ›å»ºæˆåŠŸ         |
| 204    | åˆ é™¤æˆåŠŸ(æ— å†…å®¹) |
| 400    | è¯·æ±‚å‚æ•°é”™è¯¯     |
| 401    | æœªè®¤è¯æˆ–è®¤è¯å¤±è´¥ |
| 403    | æ— æƒé™           |
| 404    | èµ„æºä¸å­˜åœ¨       |
| 409    | èµ„æºå†²çª         |
| 422    | æ•°æ®éªŒè¯å¤±è´¥     |
| 429    | è¯·æ±‚é¢‘ç‡è¿‡é«˜     |
| 500    | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯   |
| 503    | æœåŠ¡ä¸å¯ç”¨       |

---

## ğŸ”’ é™æµç­–ç•¥

| ç»´åº¦    | é™åˆ¶        | è¯´æ˜          |
| ------- | ----------- | ------------- |
| IP      | 100 req/min | å•ä¸ª IP åœ°å€  |
| ç”¨æˆ·    | 60 req/min  | è®¤è¯ç”¨æˆ·      |
| AI æœåŠ¡ | 20 req/min  | AI é—®ç­”å’Œæ‰¹æ”¹ |
| ç™»å½•    | 5 req/min   | ç™»å½•å°è¯•      |

è¶…è¿‡é™åˆ¶è¿”å› `429 Too Many Requests`ï¼Œå“åº”å¤´åŒ…å«:

- `X-RateLimit-Limit`: é™åˆ¶å€¼
- `X-RateLimit-Remaining`: å‰©ä½™æ¬¡æ•°
- `X-RateLimit-Reset`: é‡ç½®æ—¶é—´æˆ³

---

## ğŸ“ æ›´æ–°æ—¥å¿—

- **2025-10-12**: å®Œå…¨é‡å†™ï¼Œåæ˜ å®é™…å®ç°çš„ 94+ ä¸ªç«¯ç‚¹
- **2025-09-29**: åˆå§‹ç‰ˆæœ¬(å·²è¿‡æ—¶)

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [API æ•°æ®æ¨¡å‹](models.md) - è¯·æ±‚å’Œå“åº”çš„æ•°æ®ç»“æ„
- [é”™è¯¯ç å‚è€ƒ](errors.md) - å®Œæ•´çš„é”™è¯¯ç åˆ—è¡¨
- [å‰åç«¯é›†æˆ](../integration/frontend.md) - å‰ç«¯è°ƒç”¨æŒ‡å—
- [è®¤è¯æœºåˆ¶](../architecture/security.md) - è¯¦ç»†çš„è®¤è¯è¯´æ˜

---

**ç»´æŠ¤è€…**: äº”å¥½ä¼´å­¦å¼€å‘å›¢é˜Ÿ
**åé¦ˆ**: å‘ç°æ–‡æ¡£é—®é¢˜è¯·æäº¤ Issue
