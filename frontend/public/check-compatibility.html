<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµè§ˆå™¨å…¼å®¹æ€§æ£€æµ‹ - äº”å¥½ä¼´å­¦</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 
                         'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 40px;
        }

        h1 {
            color: #333;
            margin-bottom: 8px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 32px;
            font-size: 14px;
        }

        .section {
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .icon {
            width: 20px;
            height: 20px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 140px 1fr;
            gap: 8px;
            font-size: 14px;
            background: #f5f5f5;
            padding: 16px;
            border-radius: 8px;
        }

        .info-label {
            color: #666;
            font-weight: 500;
        }

        .info-value {
            color: #333;
            word-break: break-word;
        }

        .feature-list {
            list-style: none;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            margin-bottom: 8px;
            background: #f5f5f5;
            border-radius: 8px;
            font-size: 14px;
        }

        .feature-item.supported {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
        }

        .feature-item.unsupported {
            background: #ffebee;
            border-left: 4px solid #f44336;
        }

        .status-icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }

        .score-container {
            text-align: center;
            padding: 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            color: white;
            margin-bottom: 24px;
        }

        .score-value {
            font-size: 72px;
            font-weight: 700;
            line-height: 1;
            margin-bottom: 8px;
        }

        .score-label {
            font-size: 16px;
            opacity: 0.9;
        }

        .score-status {
            margin-top: 12px;
            font-size: 18px;
            font-weight: 600;
        }

        .recommendation {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 16px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.6;
            color: #856404;
        }

        .recommendation.good {
            background: #d4edda;
            border-left-color: #28a745;
            color: #155724;
        }

        .footer {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid #eee;
            text-align: center;
            color: #999;
            font-size: 12px;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            margin-top: 16px;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        @media (max-width: 640px) {
            .container {
                padding: 24px;
            }

            h1 {
                font-size: 24px;
            }

            .score-value {
                font-size: 56px;
            }

            .info-grid {
                grid-template-columns: 1fr;
                gap: 4px;
            }

            .info-label::after {
                content: ':';
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” æµè§ˆå™¨å…¼å®¹æ€§æ£€æµ‹</h1>
        <p class="subtitle">äº”å¥½ä¼´å­¦ - æ™ºèƒ½å­¦ä¹ åŠ©æ‰‹</p>

        <div id="score-section" class="score-container">
            <div class="score-value" id="score">-</div>
            <div class="score-label">å…¼å®¹æ€§è¯„åˆ†</div>
            <div class="score-status" id="score-status">æ­£åœ¨æ£€æµ‹...</div>
        </div>

        <div class="section">
            <div class="section-title">
                <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20,8h-3V4H3C1.89,4,1,4.89,1,6v11h2c0,1.66,1.34,3,3,3s3-1.34,3-3h6c0,1.66,1.34,3,3,3s3-1.34,3-3h2v-5L20,8z M6,18.5c-0.83,0-1.5-0.67-1.5-1.5s0.67-1.5,1.5-1.5s1.5,0.67,1.5,1.5S6.83,18.5,6,18.5z M19.5,9.5l1.96,2.5H17V9.5H19.5z M18,18.5c-0.83,0-1.5-0.67-1.5-1.5s0.67-1.5,1.5-1.5s1.5,0.67,1.5,1.5S18.83,18.5,18,18.5z"/>
                </svg>
                æµè§ˆå™¨ä¿¡æ¯
            </div>
            <div class="info-grid" id="browser-info">
                <span class="info-label">æµè§ˆå™¨</span>
                <span class="info-value" id="browser-name">æ£€æµ‹ä¸­...</span>
                
                <span class="info-label">ç‰ˆæœ¬</span>
                <span class="info-value" id="browser-version">-</span>
                
                <span class="info-label">æ“ä½œç³»ç»Ÿ</span>
                <span class="info-value" id="os-name">-</span>
                
                <span class="info-label">User Agent</span>
                <span class="info-value" id="user-agent">-</span>
            </div>
        </div>

        <div class="section">
            <div class="section-title">
                <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M9,10h6c0.55,0,1,0.45,1,1v0c0,0.55-0.45,1-1,1H9c-0.55,0-1-0.45-1-1v0C8,10.45,8.45,10,9,10z M9,6h6c0.55,0,1,0.45,1,1 v0c0,0.55-0.45,1-1,1H9C8.45,8,8,7.55,8,7v0C8,6.45,8.45,6,9,6z M9,14h6c0.55,0,1,0.45,1,1v0c0,0.55-0.45,1-1,1H9 c-0.55,0-1-0.45-1-1v0C8,14.45,8.45,14,9,14z M3,18c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2H5C3.9,4,3,4.9,3,6V18 z"/>
                </svg>
                ç‰¹æ€§æ”¯æŒæ£€æµ‹
            </div>
            <ul class="feature-list" id="feature-list">
                <!-- åŠ¨æ€ç”Ÿæˆ -->
            </ul>
        </div>

        <div id="recommendation" class="recommendation">
            æ£€æµ‹ä¸­...
        </div>

        <div class="footer">
            <p>æ£€æµ‹æ—¶é—´: <span id="check-time">-</span></p>
            <a href="/" class="btn">è¿”å›ä¸»é¡µ</a>
        </div>
    </div>

    <script>
        (function() {
            'use strict';

            // æ£€æµ‹é¡¹ç›®å®šä¹‰
            var features = [
                { name: 'ES6 Promise', check: function() { return typeof Promise !== 'undefined'; } },
                { name: 'Fetch API', check: function() { return typeof fetch !== 'undefined'; } },
                { name: 'ES6 Arrow Functions', check: function() { try { eval('() => {}'); return true; } catch(e) { return false; } } },
                { name: 'ES6 Classes', check: function() { try { eval('class Test {}'); return true; } catch(e) { return false; } } },
                { name: 'ES6 Template Literals', check: function() { try { eval('`test`'); return true; } catch(e) { return false; } } },
                { name: 'ES6 let/const', check: function() { try { eval('let x = 1; const y = 2;'); return true; } catch(e) { return false; } } },
                { name: 'ES6 Destructuring', check: function() { try { eval('const {a} = {a:1}'); return true; } catch(e) { return false; } } },
                { name: 'ES6 Spread Operator', check: function() { try { eval('[...[1,2]]'); return true; } catch(e) { return false; } } },
                { name: 'ES6 Map', check: function() { return typeof Map !== 'undefined'; } },
                { name: 'ES6 Set', check: function() { return typeof Set !== 'undefined'; } },
                { name: 'ES6 Symbol', check: function() { return typeof Symbol !== 'undefined'; } },
                { name: 'ES6 Proxy', check: function() { return typeof Proxy !== 'undefined'; } },
                { name: 'Object.assign', check: function() { return typeof Object.assign === 'function'; } },
                { name: 'Object.entries', check: function() { return typeof Object.entries === 'function'; } },
                { name: 'Object.values', check: function() { return typeof Object.values === 'function'; } },
                { name: 'Array.includes', check: function() { return typeof Array.prototype.includes === 'function'; } },
                { name: 'Array.find', check: function() { return typeof Array.prototype.find === 'function'; } },
                { name: 'String.includes', check: function() { return typeof String.prototype.includes === 'function'; } },
                { name: 'async/await', check: function() { try { eval('async function test() { await Promise.resolve(); }'); return true; } catch(e) { return false; } } },
                { name: 'ES Modules', check: function() { return 'noModule' in document.createElement('script'); } }
            ];

            // æµè§ˆå™¨æ£€æµ‹
            function getBrowserInfo() {
                var ua = navigator.userAgent;
                var browser = { name: 'Unknown', version: '-' };
                var os = 'Unknown';

                // æµè§ˆå™¨æ£€æµ‹
                if (ua.indexOf('Firefox') > -1) {
                    browser.name = 'Firefox';
                    browser.version = ua.match(/Firefox\/(\d+)/)?.[1] || '-';
                } else if (ua.indexOf('Chrome') > -1 && ua.indexOf('Edg') === -1) {
                    browser.name = 'Chrome';
                    browser.version = ua.match(/Chrome\/(\d+)/)?.[1] || '-';
                } else if (ua.indexOf('Safari') > -1 && ua.indexOf('Chrome') === -1) {
                    browser.name = 'Safari';
                    browser.version = ua.match(/Version\/(\d+)/)?.[1] || '-';
                } else if (ua.indexOf('Edg') > -1) {
                    browser.name = 'Edge';
                    browser.version = ua.match(/Edg\/(\d+)/)?.[1] || '-';
                } else if (ua.indexOf('MSIE') > -1 || ua.indexOf('Trident') > -1) {
                    browser.name = 'Internet Explorer';
                    browser.version = ua.match(/(?:MSIE |rv:)(\d+)/)?.[1] || '-';
                }

                // æ“ä½œç³»ç»Ÿæ£€æµ‹
                if (ua.indexOf('iPhone') > -1 || ua.indexOf('iPad') > -1) {
                    os = 'iOS ' + (ua.match(/OS (\d+)_/)?.[1] || '');
                } else if (ua.indexOf('Android') > -1) {
                    os = 'Android ' + (ua.match(/Android (\d+)/)?.[1] || '');
                } else if (ua.indexOf('Windows') > -1) {
                    os = 'Windows';
                } else if (ua.indexOf('Mac') > -1) {
                    os = 'macOS';
                } else if (ua.indexOf('Linux') > -1) {
                    os = 'Linux';
                }

                return { browser: browser, os: os, ua: ua };
            }

            // æ¸²æŸ“æµè§ˆå™¨ä¿¡æ¯
            function renderBrowserInfo() {
                var info = getBrowserInfo();
                document.getElementById('browser-name').textContent = info.browser.name;
                document.getElementById('browser-version').textContent = info.browser.version;
                document.getElementById('os-name').textContent = info.os;
                document.getElementById('user-agent').textContent = info.ua;
            }

            // æ¸²æŸ“ç‰¹æ€§æ£€æµ‹
            function renderFeatures() {
                var list = document.getElementById('feature-list');
                var supported = 0;
                var total = features.length;

                features.forEach(function(feature) {
                    var isSupported = feature.check();
                    if (isSupported) supported++;

                    var li = document.createElement('li');
                    li.className = 'feature-item ' + (isSupported ? 'supported' : 'unsupported');
                    
                    var icon = isSupported 
                        ? '<svg class="status-icon" viewBox="0 0 24 24" fill="#4caf50"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg>'
                        : '<svg class="status-icon" viewBox="0 0 24 24" fill="#f44336"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>';
                    
                    li.innerHTML = icon + '<span>' + feature.name + '</span>';
                    list.appendChild(li);
                });

                return { supported: supported, total: total };
            }

            // è®¡ç®—å’Œæ˜¾ç¤ºåˆ†æ•°
            function renderScore(stats) {
                var score = Math.round((stats.supported / stats.total) * 100);
                document.getElementById('score').textContent = score;

                var status = '';
                var recommendation = '';
                var recommendClass = 'recommendation';

                if (score >= 90) {
                    status = 'âœ… å®Œç¾å…¼å®¹';
                    recommendation = '<strong>å¤ªæ£’äº†ï¼</strong> æ‚¨çš„æµè§ˆå™¨å®Œç¾æ”¯æŒäº”å¥½ä¼´å­¦çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¯ä»¥è·å¾—æœ€ä½³ä½¿ç”¨ä½“éªŒã€‚';
                    recommendClass += ' good';
                } else if (score >= 70) {
                    status = 'âœ… è‰¯å¥½å…¼å®¹';
                    recommendation = '<strong>å¾ˆå¥½ï¼</strong> æ‚¨çš„æµè§ˆå™¨æ”¯æŒå¤§éƒ¨åˆ†åŠŸèƒ½ã€‚éƒ¨åˆ†é«˜çº§ç‰¹æ€§å¯èƒ½ä¸å¯ç”¨ï¼Œä½†ä¸å½±å“æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨ã€‚å»ºè®®å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ä»¥è·å¾—æ›´å¥½ä½“éªŒã€‚';
                    recommendClass += ' good';
                } else if (score >= 50) {
                    status = 'âš ï¸ éƒ¨åˆ†å…¼å®¹';
                    recommendation = '<strong>æ³¨æ„ï¼</strong> æ‚¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¾ƒæ—§ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚<br><strong>å¼ºçƒˆå»ºè®®</strong>å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬çš„ Chromeã€Firefoxã€Safari æˆ– Edge æµè§ˆå™¨ã€‚';
                } else {
                    status = 'âŒ å…¼å®¹æ€§å·®';
                    recommendation = '<strong>è­¦å‘Šï¼</strong> æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒç°ä»£ Web æ ‡å‡†ï¼Œäº”å¥½ä¼´å­¦å¯èƒ½æ— æ³•æ­£å¸¸è¿è¡Œã€‚<br><strong>è¯·ç«‹å³å‡çº§</strong>åˆ°æœ€æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼š<br>â€¢ Chrome 87+<br>â€¢ Firefox 78+<br>â€¢ Safari 14+<br>â€¢ Edge 88+';
                }

                document.getElementById('score-status').textContent = status;
                
                var recElement = document.getElementById('recommendation');
                recElement.innerHTML = recommendation;
                recElement.className = recommendClass;
            }

            // æ‰§è¡Œæ£€æµ‹
            function runCheck() {
                // æ˜¾ç¤ºæ—¶é—´
                document.getElementById('check-time').textContent = new Date().toLocaleString('zh-CN');

                // æ¸²æŸ“æµè§ˆå™¨ä¿¡æ¯
                renderBrowserInfo();

                // æ¸²æŸ“ç‰¹æ€§æ£€æµ‹
                var stats = renderFeatures();

                // æ¸²æŸ“åˆ†æ•°
                renderScore(stats);
            }

            // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', runCheck);
            } else {
                runCheck();
            }
        })();
    </script>
</body>
</html>
