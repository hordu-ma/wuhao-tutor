<!--pages/login/index.wxml - 五好伴学小程序登录页面模板-->
<view class="container">
  <view class="login-content">
    <!-- Logo区域 -->
    <view class="logo-section">
      <image class="logo" src="/assets/images/logo.png" mode="aspectFit" />
      <text class="app-name">五好伴学</text>
      <text class="app-desc">AI智能学习助手</text>
    </view>

    <!-- 登录表单区域 -->
    <view class="login-form">
      <view class="welcome-text">
        <text class="welcome-title">欢迎使用五好伴学</text>
        <text class="welcome-desc">让学习更高效，让成长更快乐</text>
      </view>

      <!-- 网络状态提示 -->
      <view wx:if="{{networkStatus !== 'connected'}}" class="network-warning">
        <van-notice-bar
          left-icon="warning-o"
          text="网络连接不可用，请检查网络设置"
          mode="closeable"
          color="#ed6a0c"
          background="#fffbe8"
        />
      </view>

      <!-- 错误信息显示 -->
      <view wx:if="{{loginError}}" class="error-section">
        <view class="error-message">
          <van-icon name="warning-o" color="#ee0a24" />
          <text class="error-text">{{loginError}}</text>
        </view>
        <view class="error-actions">
          <button class="retry-btn" size="mini" bind:tap="onRetryLogin">重试</button>
          <button class="network-btn" size="mini" bind:tap="onCheckNetwork">网络设置</button>
        </view>
      </view>

      <!-- 微信登录按钮 -->
      <van-button
        class="login-btn"
        type="primary"
        size="large"
        round
        loading="{{loading}}"
        disabled="{{loading || networkStatus !== 'connected'}}"
        bind:click="onWechatLogin"
        loading-text="登录中..."
      >
        <van-icon wx:if="{{!loading}}" name="wechat" />
        微信登录
      </van-button>

      <!-- 用户协议 -->
      <view class="agreement">
        <text class="agreement-text">
          登录即表示同意
          <text class="agreement-link">《用户协议》</text>
          和
          <text class="agreement-link">《隐私政策》</text>
        </text>
      </view>
    </view>

    <!-- 底部装饰 -->
    <view class="footer">
      <text class="footer-text">专业的K12学习管理平台</text>
    </view>
  </view>
</view>
