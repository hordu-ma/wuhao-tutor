<!--pages/mistakes/today-review/index.wxml-->
<view class="today-review-container">
  <!-- 头部统计 -->
  <view class="review-header">
    <view class="header-title">今日复习</view>
    <view class="header-stats">
      <view class="stat-item">
        <text class="stat-number">{{totalCount}}</text>
        <text class="stat-label">待复习</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-number">{{completedCount}}</text>
        <text class="stat-label">已完成</text>
      </view>
    </view>
  </view>

  <!-- 加载状态 -->
  <loading wx:if="{{loading}}" />

  <!-- 空状态 -->
  <empty-state wx:if="{{!loading && !reviewList.length}}"
               type="review"
               title="太棒了！"
               description="今天没有需要复习的错题" />

  <!-- 复习列表 -->
  <scroll-view class="review-scroll"
               scroll-y="{{true}}"
               wx:if="{{!loading && reviewList.length > 0}}">
    <view class="review-list">
      <mistake-card
        wx:for="{{reviewList}}"
        wx:key="id"
        mistake="{{item}}"
        mode="review"
        showActions="{{false}}"
        bind:tap="onReviewTap" />
    </view>
  </scroll-view>

  <!-- 开始批量复习按钮 -->
  <view class="review-footer" wx:if="{{!loading && reviewList.length > 0}}">
    <van-button type="primary" block bind:click="onStartBatchReview">
      开始批量复习 ({{reviewList.length}}题)
    </van-button>
  </view>
</view>
