<!-- components/quality-selector/index.wxml -->
<view class="selector-container" wx:if="{{show}}">
  <!-- 遮罩层 -->
  <view class="selector-mask" bindtap="onClose"></view>
  
  <!-- 内容区 -->
  <view class="selector-content" catchtap="stopPropagation">
    <!-- 标题 -->
    <view class="selector-header">
      <text class="header-title">选择图片质量</text>
      <view class="header-close" bindtap="onClose">
        <text class="close-icon">✕</text>
      </view>
    </view>

    <!-- 质量预设列表 -->
    <view class="presets-list">
      <view 
        wx:for="{{presets}}" 
        wx:key="id"
        class="preset-item {{value === item.id ? 'active' : ''}}"
        data-preset="{{item.id}}"
        bindtap="onSelectPreset"
      >
        <!-- 图标和名称 -->
        <view class="preset-header">
          <text class="preset-icon">{{item.icon}}</text>
          <view class="preset-info">
            <view class="preset-name-row">
              <text class="preset-name">{{item.name}}</text>
              <text wx:if="{{item.recommended}}" class="recommended-badge">推荐</text>
            </view>
            <text class="preset-size">{{item.estimatedSize}}</text>
          </view>
          <!-- 选中标记 -->
          <view class="preset-check" wx:if="{{value === item.id}}">
            <text class="check-icon">✓</text>
          </view>
        </view>

        <!-- 描述 -->
        <text class="preset-description">{{item.description}}</text>

        <!-- 详细参数 -->
        <view class="preset-details">
          <view class="detail-item">
            <text class="detail-label">质量:</text>
            <text class="detail-value">{{item.quality * 100}}%</text>
          </view>
          <view class="detail-item">
            <text class="detail-label">最大尺寸:</text>
            <text class="detail-value">{{item.maxWidth}}×{{item.maxHeight}}</text>
          </view>
          <view class="detail-item">
            <text class="detail-label">文件大小:</text>
            <text class="detail-value">≤{{item.maxSizeKB}}KB</text>
          </view>
        </view>

        <!-- 进度条指示 -->
        <view class="quality-indicator">
          <view 
            class="indicator-bar" 
            style="width: {{item.quality * 100}}%; background-color: {{item.color}};"
          ></view>
        </view>
      </view>
    </view>

    <!-- 提示信息 -->
    <view class="selector-tips">
      <text class="tips-icon">💡</text>
      <text class="tips-text">选择合适的质量可以在清晰度和上传速度之间取得平衡</text>
    </view>
  </view>
</view>
