<!-- components/image-cropper/index.wxml -->
<view class="cropper-container" wx:if="{{show}}">
  <!-- 蒙层 -->
  <view class="cropper-mask" bindtap="onCancel"></view>
  
  <!-- 主内容区 -->
  <view class="cropper-content">
    <!-- 标题栏 -->
    <view class="cropper-header">
      <text class="header-title">裁剪图片</text>
      <view class="header-actions">
        <button class="action-btn cancel-btn" bindtap="onCancel">取消</button>
        <button class="action-btn confirm-btn" bindtap="onConfirm" loading="{{processing}}">
          {{processing ? '处理中...' : '确定'}}
        </button>
      </view>
    </view>

    <!-- Canvas画布 -->
    <view class="canvas-wrapper">
      <canvas 
        type="2d" 
        id="cropperCanvas" 
        class="cropper-canvas"
        bindtouchstart="onTouchStart"
        bindtouchmove="onTouchMove"
        bindtouchend="onTouchEnd"
      ></canvas>
    </view>

    <!-- 工具栏 -->
    <view class="cropper-toolbar">
      <!-- 裁剪比例选择 -->
      <view class="toolbar-section">
        <text class="section-label">裁剪比例</text>
        <view class="ratio-options">
          <view 
            wx:for="{{ratioOptions}}" 
            wx:key="value"
            class="ratio-item {{aspectRatio === item.value ? 'active' : ''}}"
            data-ratio="{{item.value}}"
            bindtap="onRatioChange"
          >
            {{item.label}}
          </view>
        </view>
      </view>

      <!-- 编辑工具 -->
      <view class="toolbar-section">
        <text class="section-label">编辑工具</text>
        <view class="tools">
          <view 
            wx:for="{{tools}}" 
            wx:key="id"
            class="tool-item"
            data-tool="{{item.id}}"
            bindtap="onToolClick"
          >
            <text class="tool-icon">{{item.icon}}</text>
            <text class="tool-label">{{item.label}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 提示信息 -->
    <view class="cropper-tips">
      <text class="tips-text">💡 拖动裁剪框调整位置，使用工具栏旋转或翻转图片</text>
    </view>
  </view>
</view>
