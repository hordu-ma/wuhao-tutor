# è„šæœ¬ç›®å½•ä½¿ç”¨è¯´æ˜# è„šæœ¬ç›®å½•ä½¿ç”¨è¯´æ˜# äº”å¥½ä¼´å­¦å¼€å‘è„šæœ¬

æœ¬ç›®å½•åŒ…å«äº”å¥½ä¼´å­¦é¡¹ç›®çš„æ ¸å¿ƒè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œè¦†ç›–å¼€å‘å’Œç”Ÿäº§éƒ¨ç½²åœºæ™¯ã€‚æœ¬ç›®å½•åŒ…å«äº”å¥½ä¼´å­¦é¡¹ç›®çš„æ ¸å¿ƒè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œè¦†ç›–å¼€å‘å’Œç”Ÿäº§éƒ¨ç½²åœºæ™¯ã€‚æœ¬ç›®å½•åŒ…å«äº”å¥½ä¼´å­¦é¡¹ç›®çš„æ ¸å¿ƒå¼€å‘è„šæœ¬ï¼ˆå·²ç²¾ç®€ï¼Œä»…ä¿ç•™å¿…éœ€åŠŸèƒ½ï¼‰ã€‚

## å¿«é€Ÿå¼€å§‹## å¿«é€Ÿå¼€å§‹## ğŸ“ è„šæœ¬åˆ—è¡¨

### å¼€å‘ç¯å¢ƒå¯åŠ¨### å¼€å‘ç¯å¢ƒå¯åŠ¨### å¼€å‘è„šæœ¬

```bash````bash| è„šæœ¬ | åŠŸèƒ½ | ç”¨é€” |

# å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒï¼ˆå‰ç«¯ + åç«¯ï¼‰

./scripts/start-dev.sh# å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒï¼ˆå‰ç«¯ + åç«¯ï¼‰| ----------------------- | -------------- | ------------------------------ |

# ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨./scripts/start-dev.sh| `start-dev.sh` | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ | å¯åŠ¨å‰ç«¯(Vite) + åç«¯(FastAPI) |

./scripts/start-frontend-dev.sh

| `stop-dev.sh` | åœæ­¢å¼€å‘æœåŠ¡å™¨ | ä¼˜é›…åœæ­¢æ‰€æœ‰å¼€å‘æœåŠ¡ |

# æ£€æŸ¥å¼€å‘ç¯å¢ƒçŠ¶æ€

./scripts/status-dev.sh# ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨| `status-dev.sh` | æ£€æŸ¥æœåŠ¡çŠ¶æ€ | æŸ¥çœ‹è¿›ç¨‹ã€ç«¯å£ã€èµ„æºä½¿ç”¨ |

# åœæ­¢å¼€å‘ç¯å¢ƒ./scripts/start-frontend-dev.sh| `start-frontend-dev.sh` | å¯åŠ¨å‰ç«¯ | ä»…å¯åŠ¨ Vue3 å‰ç«¯æœåŠ¡ |

./scripts/stop-dev.sh

````



### ç”Ÿäº§éƒ¨ç½²ï¼ˆâ­ æ¨èï¼‰# æ£€æŸ¥å¼€å‘ç¯å¢ƒçŠ¶æ€### ç”Ÿäº§éƒ¨ç½²è„šæœ¬



```bash./scripts/status-dev.sh

# ä¸€é”®éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

./scripts/deploy.sh| è„šæœ¬                          | åŠŸèƒ½     | ç”¨é€”                     |



# éªŒè¯ç”Ÿäº§ç¯å¢ƒçŠ¶æ€# åœæ­¢å¼€å‘ç¯å¢ƒ| ----------------------------- | -------- | ------------------------ |

./scripts/check-production.sh

```./scripts/stop-dev.sh| `deploy-to-production.sh`     | ç”Ÿäº§éƒ¨ç½² | æ¨é€ä»£ç åˆ°é˜¿é‡Œäº‘ç”Ÿäº§ç¯å¢ƒ |



**è¯¦ç»†éƒ¨ç½²æ–‡æ¡£**ï¼šè¯·å‚é˜… [DEPLOY-README.md](./DEPLOY-README.md)```| `verify_deployment.sh`        | éƒ¨ç½²éªŒè¯ | éªŒè¯ç”Ÿäº§ç¯å¢ƒæœåŠ¡çŠ¶æ€     |



---| `update_production_config.py` | é…ç½®ç®¡ç† | æ›´æ–°ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶     |



## æ ¸å¿ƒè„šæœ¬åˆ—è¡¨ï¼ˆ6ä¸ªï¼‰### ç”Ÿäº§éƒ¨ç½²ï¼ˆâ­ æ¨èï¼‰



### å¼€å‘ç¯å¢ƒï¼ˆ4ä¸ªï¼‰### SQL è„šæœ¬ (sql/)



| è„šæœ¬åç§° | åŠŸèƒ½æè¿° | ä½¿ç”¨åœºæ™¯ |```bash

|---------|---------|---------|

| `start-dev.sh` | å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨ | æ—¥å¸¸å¼€å‘ |# ä¸€é”®éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ- `01-init-extensions.sql` - åˆå§‹åŒ– PostgreSQL æ‰©å±•

| `stop-dev.sh` | åœæ­¢å¼€å‘æœåŠ¡å™¨ | æ¸…ç†å¼€å‘ç¯å¢ƒ |

| `status-dev.sh` | æ£€æŸ¥æœåŠ¡çŠ¶æ€ | æ’æŸ¥å¯åŠ¨é—®é¢˜ |./scripts/deploy.sh- `02-create-indexes.sql` - åˆ›å»ºæ•°æ®åº“ç´¢å¼•

| `start-frontend-dev.sh` | ä»…å¯åŠ¨å‰ç«¯ | å‰ç«¯ç‹¬ç«‹å¼€å‘ |



### ç”Ÿäº§éƒ¨ç½²ï¼ˆ2ä¸ªï¼‰â­

# éªŒè¯ç”Ÿäº§ç¯å¢ƒçŠ¶æ€---

| è„šæœ¬åç§° | åŠŸèƒ½æè¿° | ä½¿ç”¨åœºæ™¯ |

|---------|---------|---------|./scripts/check-production.sh

| `deploy.sh` | **ä¸€é”®éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ** | **ç”Ÿäº§ä»£ç ä¸Šçº¿**ï¼ˆæ¨èï¼‰ |

| `check-production.sh` | éªŒè¯ç”Ÿäº§ç¯å¢ƒçŠ¶æ€ | éƒ¨ç½²åéªŒè¯ |```## ğŸš€ å¿«é€Ÿå¼€å§‹



---



## è¯¦ç»†ä½¿ç”¨æŒ‡å—**è¯¦ç»†éƒ¨ç½²æ–‡æ¡£**ï¼šè¯·å‚é˜… [DEPLOY-README.md](./DEPLOY-README.md)### å¼€å‘ç¯å¢ƒ



### deploy.shï¼ˆâ­ æ¨èï¼‰



**åŠŸèƒ½**ï¼šç»Ÿä¸€ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æµç¨‹---```bash



**æ‰§è¡Œé˜¶æ®µ**ï¼š# 1. å¯åŠ¨å¼€å‘ç¯å¢ƒ

1. SSH è¿æ¥æ£€æŸ¥

2. åç«¯ä»£ç åŒæ­¥ï¼ˆrsyncï¼‰## æ ¸å¿ƒè„šæœ¬åˆ—è¡¨./scripts/start-dev.sh

3. åç«¯æœåŠ¡é‡å¯ï¼ˆsystemctlï¼‰

4. å‰ç«¯æœ¬åœ°æ„å»ºï¼ˆnpm run buildï¼‰

5. å‰ç«¯æ–‡ä»¶åŒæ­¥ï¼ˆrsync dist/ï¼‰

6. éƒ¨ç½²éªŒè¯ï¼ˆå¥åº·æ£€æŸ¥ + å‰ç«¯è®¿é—®ï¼‰### å¼€å‘ç¯å¢ƒï¼ˆ4ä¸ªï¼‰# 2. æŸ¥çœ‹æœåŠ¡çŠ¶æ€



**ä½¿ç”¨æ–¹æ³•**ï¼š./scripts/status-dev.sh

```bash

./scripts/deploy.sh| è„šæœ¬åç§° | åŠŸèƒ½æè¿° | ä½¿ç”¨åœºæ™¯ |

````

|---------|---------|---------|# 3. åœæ­¢æœåŠ¡

**é…ç½®ä¿¡æ¯**ï¼š

- æœåŠ¡å™¨ï¼š`root@121.199.173.244`| `start-dev.sh` | å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨ | æ—¥å¸¸å¼€å‘ |./scripts/stop-dev.sh

- åŸŸåï¼š`horsduroot.com`ï¼ˆSSL: Let's Encryptï¼‰

- åç«¯è·¯å¾„ï¼š`/opt/wuhao-tutor`| `stop-dev.sh` | åœæ­¢å¼€å‘æœåŠ¡å™¨ | æ¸…ç†å¼€å‘ç¯å¢ƒ |```

- å‰ç«¯è·¯å¾„ï¼š`/var/www/html`

- æœåŠ¡åï¼š`wuhao-tutor.service`| `status-dev.sh` | æ£€æŸ¥æœåŠ¡çŠ¶æ€ | æ’æŸ¥å¯åŠ¨é—®é¢˜ |

**æ ¸å¿ƒç‰¹æ€§**ï¼š| `start-frontend-dev.sh` | ä»…å¯åŠ¨å‰ç«¯ | å‰ç«¯ç‹¬ç«‹å¼€å‘ |### ç”Ÿäº§éƒ¨ç½²

- âœ… å‰ç«¯æœ¬åœ°æ„å»ºï¼Œé¿å…æœåŠ¡å™¨ npm install è¶…æ—¶

- âœ… è‡ªåŠ¨å¥åº·æ£€æŸ¥å’ŒçŠ¶æ€éªŒè¯

- âœ… æ— äº¤äº’è®¾è®¡ï¼Œæ”¯æŒ CI/CD é›†æˆ

- âš ï¸ æ•°æ®åº“è¿ç§»éœ€æ‰‹åŠ¨æ‰§è¡Œï¼ˆè§ä¸‹æ–¹å‘½ä»¤ï¼‰### ç”Ÿäº§éƒ¨ç½²ï¼ˆ2 ä¸ªï¼‰â­```bash

**æ‰‹åŠ¨æ•°æ®åº“è¿ç§»**ï¼š# å®Œæ•´éƒ¨ç½²æµç¨‹

```bash

ssh root@121.199.173.244 'cd /opt/wuhao-tutor && source venv/bin/activate && alembic upgrade head'| è„šæœ¬åç§° | åŠŸèƒ½æè¿° | ä½¿ç”¨åœºæ™¯ |./scripts/deploy-to-production.sh

```

|---------|---------|---------|

---

| `deploy.sh` | **ä¸€é”®éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ** | **ç”Ÿäº§ä»£ç ä¸Šçº¿**ï¼ˆæ¨èï¼‰ |# å¿«é€Ÿéƒ¨ç½²ï¼ˆè·³è¿‡å¤‡ä»½å’Œæµ‹è¯•ï¼‰

### check-production.sh

| `check-production.sh` | éªŒè¯ç”Ÿäº§ç¯å¢ƒçŠ¶æ€ | éƒ¨ç½²åéªŒè¯ |./scripts/deploy-to-production.sh --quick

**åŠŸèƒ½**ï¼šéªŒè¯ç”Ÿäº§ç¯å¢ƒçŠ¶æ€

**æ£€æŸ¥é¡¹**ï¼š

- âœ… åç«¯æœåŠ¡çŠ¶æ€ï¼ˆsystemctlï¼‰### æ•°æ®åº“åˆå§‹åŒ–ï¼ˆ1 ä¸ªï¼‰# é¢„è§ˆéƒ¨ç½²æ­¥éª¤ï¼ˆä¸æ‰§è¡Œï¼‰

- âœ… API å¥åº·æ£€æŸ¥ï¼ˆ/api/v1/healthï¼‰

- âœ… å‰ç«¯é¡µé¢è®¿é—®ï¼ˆhttps://horsduroot.comï¼‰./scripts/deploy-to-production.sh --dry-run

- âœ… SSL è¯ä¹¦æœ‰æ•ˆæ€§

- âœ… ç³»ç»Ÿèµ„æºï¼ˆç£ç›˜/å†…å­˜ï¼‰| è„šæœ¬åç§° | åŠŸèƒ½æè¿° | ä½¿ç”¨åœºæ™¯ |

**ä½¿ç”¨æ–¹æ³•**ï¼š|---------|---------|---------|# ä»…éªŒè¯ç”Ÿäº§ç¯å¢ƒ

```bash

./scripts/check-production.sh| `init_database.py` | åˆå§‹åŒ–æ•°æ®åº“å¹¶ç”Ÿæˆæµ‹è¯•æ•°æ® | é¦–æ¬¡è®¾ç½®ã€å¼€å‘ç¯å¢ƒé‡ç½® |./scripts/verify_deployment.sh

```

```````

**è¾“å‡ºç¤ºä¾‹**ï¼š

```### è¯Šæ–­å·¥å…·ï¼ˆ1 ä¸ªï¼‰

âœ… åç«¯æœåŠ¡è¿è¡Œä¸­ (PID: 175330)

âœ… API å¥åº·æ£€æŸ¥é€šè¿‡---

âœ… å‰ç«¯é¡µé¢å¯è®¿é—®

âœ… SSL è¯ä¹¦æœ‰æ•ˆ (åˆ°æœŸ: 2025-04-15)| è„šæœ¬åç§° | åŠŸèƒ½æè¿° | ä½¿ç”¨åœºæ™¯ |

```

|---------|---------|---------|## ğŸ“– è„šæœ¬è¯¦ç»†è¯´æ˜

---

| `diagnose.py` | ç¯å¢ƒè¯Šæ–­å·¥å…· | æ’æŸ¥ç¯å¢ƒé—®é¢˜ |

### start-dev.sh

### å¼€å‘è„šæœ¬

**åŠŸèƒ½**ï¼šå¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ

---

**å¯åŠ¨æœåŠ¡**ï¼š

- åç«¯ï¼šFastAPI (ç«¯å£ 8000)#### start-dev.sh

- å‰ç«¯ï¼šVite Dev Server (ç«¯å£ 5173)

## è¯¦ç»†ä½¿ç”¨æŒ‡å—

**ä½¿ç”¨æ–¹æ³•**ï¼š

```bash**åŠŸèƒ½ï¼š**

./scripts/start-dev.sh

```### deploy.shï¼ˆâ­ æ¨èï¼‰



**æ—¥å¿—ä½ç½®**ï¼š- è‡ªåŠ¨æ£€æŸ¥ Python 3.11+ å’Œ Node.js 18+

- åç«¯ï¼š`logs/backend.log`

- å‰ç«¯ï¼š`logs/frontend.log`**åŠŸèƒ½**ï¼šç»Ÿä¸€ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æµç¨‹- è‡ªåŠ¨å®‰è£…ä¾èµ–ï¼ˆuv sync + npm installï¼‰



**è¿›ç¨‹ç®¡ç†**ï¼š- æ™ºèƒ½ç«¯å£åˆ†é…ï¼ˆé¿å…å†²çªï¼‰

- PID æ–‡ä»¶ï¼š`logs/{backend,frontend}.pid`

- è‡ªåŠ¨æ¸…ç†æ—§è¿›ç¨‹**æ‰§è¡Œé˜¶æ®µ**ï¼š- åŒæ—¶å¯åŠ¨å‰åç«¯æœåŠ¡



---1. SSH è¿æ¥æ£€æŸ¥



## æœ€ä½³å®è·µ2. åç«¯ä»£ç åŒæ­¥ï¼ˆrsyncï¼‰**é»˜è®¤ç«¯å£ï¼š**



### æ—¥å¸¸å¼€å‘æµç¨‹3. åç«¯æœåŠ¡é‡å¯ï¼ˆsystemctlï¼‰



1. **å¯åŠ¨å¼€å‘ç¯å¢ƒ**4. å‰ç«¯æœ¬åœ°æ„å»ºï¼ˆnpm run buildï¼‰- å‰ç«¯ï¼š5173ï¼ˆè‡ªåŠ¨å¯»æ‰¾å¯ç”¨ç«¯å£ï¼‰

   ```bash

   ./scripts/start-dev.sh5. å‰ç«¯æ–‡ä»¶åŒæ­¥ï¼ˆrsync dist/ï¼‰- åç«¯ï¼š8000ï¼ˆè‡ªåŠ¨å¯»æ‰¾å¯ç”¨ç«¯å£ï¼‰

   ```

6. éƒ¨ç½²éªŒè¯ï¼ˆå¥åº·æ£€æŸ¥ + å‰ç«¯è®¿é—®ï¼‰

2. **ä»£ç ä¿®æ”¹ä¸æµ‹è¯•**

   - åç«¯è‡ªåŠ¨é‡è½½ï¼ˆuvicorn --reloadï¼‰**ç”Ÿæˆæ–‡ä»¶ï¼š**

   - å‰ç«¯çƒ­æ›´æ–°ï¼ˆVite HMRï¼‰

**ä½¿ç”¨æ–¹æ³•**ï¼š

3. **åœæ­¢å¼€å‘ç¯å¢ƒ**

   ```bash```bash- `.dev-pids/frontend.pid` - å‰ç«¯è¿›ç¨‹ ID

   ./scripts/stop-dev.sh

   ```./scripts/deploy.sh- `.dev-pids/backend.pid` - åç«¯è¿›ç¨‹ ID



### ç”Ÿäº§éƒ¨ç½²æµç¨‹ï¼ˆâ­ æ¨èï¼‰```- `.dev-pids/\*.log` - æœåŠ¡æ—¥å¿—



1. **æ‰§è¡Œä¸€é”®éƒ¨ç½²****é…ç½®ä¿¡æ¯**ï¼š---

   ```bash

   ./scripts/deploy.sh- æœåŠ¡å™¨ï¼š`root@121.199.173.244`

   ```

- åŸŸåï¼š`horsduroot.com`ï¼ˆSSL: Let's Encryptï¼‰#### stop-dev.sh

2. **ï¼ˆå¯é€‰ï¼‰æ‰‹åŠ¨æ•°æ®åº“è¿ç§»**

   ```bash- åç«¯è·¯å¾„ï¼š`/opt/wuhao-tutor`

   ssh root@121.199.173.244 'cd /opt/wuhao-tutor && source venv/bin/activate && alembic upgrade head'

   ```- å‰ç«¯è·¯å¾„ï¼š`/var/www/html`**åŠŸèƒ½ï¼š** ä¼˜é›…åœæ­¢å¼€å‘æœåŠ¡å™¨å¹¶æ¸…ç†èµ„æº



3. **éªŒè¯éƒ¨ç½²ç»“æœ**- æœåŠ¡åï¼š`wuhao-tutor.service`

   ```bash

   ./scripts/check-production.sh**å‚æ•°ï¼š**

   ```

**æ ¸å¿ƒç‰¹æ€§**ï¼š

4. **æŸ¥çœ‹æœåŠ¡æ—¥å¿—**

   ```bash- âœ… å‰ç«¯æœ¬åœ°æ„å»ºï¼Œé¿å…æœåŠ¡å™¨ npm install è¶…æ—¶```bash

   ssh root@121.199.173.244 'journalctl -u wuhao-tutor.service -f'

   ```- âœ… è‡ªåŠ¨å¥åº·æ£€æŸ¥å’ŒçŠ¶æ€éªŒè¯./scripts/stop-dev.sh # æ­£å¸¸åœæ­¢



### æ•°æ®åº“æ“ä½œ- âœ… æ— äº¤äº’è®¾è®¡ï¼Œæ”¯æŒ CI/CD é›†æˆ./scripts/stop-dev.sh --clean-logs # åœæ­¢å¹¶åˆ é™¤æ—¥å¿—



```bash- âš ï¸ æ•°æ®åº“è¿ç§»éœ€æ‰‹åŠ¨æ‰§è¡Œï¼ˆè§ä¸‹æ–¹å‘½ä»¤ï¼‰./scripts/stop-dev.sh --force # å¼ºåˆ¶æ€æ­»è¿›ç¨‹

# å¼€å‘ç¯å¢ƒæ•°æ®åº“é‡ç½®

make db-reset  # åŒ…å«ï¼šåˆ é™¤æ•°æ®åº“ + Alembic è¿ç§» + åˆå§‹åŒ–æµ‹è¯•æ•°æ®````



# ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“è¿ç§»ï¼ˆæ‰‹åŠ¨æ‰§è¡Œï¼‰**æ‰‹åŠ¨æ•°æ®åº“è¿ç§»**ï¼š

ssh root@121.199.173.244 'cd /opt/wuhao-tutor && source venv/bin/activate && alembic upgrade head'

``````bash---



---ssh root@121.199.173.244 'cd /opt/wuhao-tutor && source venv/bin/activate && alembic upgrade head'



## æ•…éšœæ’æŸ¥```#### status-dev.sh



### å¼€å‘æœåŠ¡å™¨æ— æ³•å¯åŠ¨



1. **æ£€æŸ¥ç«¯å£å ç”¨**---**åŠŸèƒ½ï¼š** æ£€æŸ¥æœåŠ¡è¿è¡ŒçŠ¶æ€å’Œèµ„æºä½¿ç”¨

   ```bash

   ./scripts/status-dev.sh

   lsof -i :8000  # åç«¯

   lsof -i :5173  # å‰ç«¯### check-production.sh**å‚æ•°ï¼š**

   ```



2. **æŸ¥çœ‹æ—¥å¿—**

   ```bash**åŠŸèƒ½**ï¼šéªŒè¯ç”Ÿäº§ç¯å¢ƒçŠ¶æ€```bash

   tail -f logs/backend.log

   tail -f logs/frontend.log./scripts/status-dev.sh           # åŸºæœ¬çŠ¶æ€

   ```

**æ£€æŸ¥é¡¹**ï¼š./scripts/status-dev.sh --verbose # è¯¦ç»†ä¿¡æ¯

3. **é‡å¯å¼€å‘ç¯å¢ƒ**

   ```bash- âœ… åç«¯æœåŠ¡çŠ¶æ€ï¼ˆsystemctlï¼‰./scripts/status-dev.sh --watch   # æŒç»­ç›‘æ§ï¼ˆæ¯5ç§’åˆ·æ–°ï¼‰

   ./scripts/stop-dev.sh

   ./scripts/start-dev.sh- âœ… API å¥åº·æ£€æŸ¥ï¼ˆ/api/v1/healthï¼‰```

   ```

- âœ… å‰ç«¯é¡µé¢è®¿é—®ï¼ˆhttps://horsduroot.comï¼‰

### ç”Ÿäº§éƒ¨ç½²é—®é¢˜

- âœ… SSL è¯ä¹¦æœ‰æ•ˆæ€§**çŠ¶æ€æŒ‡ç¤ºï¼š**

1. **æ£€æŸ¥ SSH è¿æ¥**

   ```bash- âœ… ç³»ç»Ÿèµ„æºï¼ˆç£ç›˜/å†…å­˜ï¼‰

   ssh root@121.199.173.244 'echo "SSH è¿æ¥æ­£å¸¸"'

   ```- âœ“ ç»¿è‰²ï¼šæœåŠ¡æ­£å¸¸è¿è¡Œ



2. **æŸ¥çœ‹æœåŠ¡çŠ¶æ€****ä½¿ç”¨æ–¹æ³•**ï¼š- âœ— çº¢è‰²ï¼šæœåŠ¡æœªè¿è¡Œæˆ–å¼‚å¸¸

   ```bash

   ssh root@121.199.173.244 'systemctl status wuhao-tutor'```bash- âš ï¸ é»„è‰²ï¼šè­¦å‘ŠçŠ¶æ€

   ```

./scripts/check-production.sh

3. **æŸ¥çœ‹å®æ—¶æ—¥å¿—**

   ```bash```---

   ssh root@121.199.173.244 'journalctl -u wuhao-tutor.service -f'

   ```



4. **æ‰‹åŠ¨é‡å¯æœåŠ¡****è¾“å‡ºç¤ºä¾‹**ï¼š### ç”Ÿäº§éƒ¨ç½²è„šæœ¬

   ```bash

   ssh root@121.199.173.244 'systemctl restart wuhao-tutor.service'````

   ```

âœ… åç«¯æœåŠ¡è¿è¡Œä¸­ (PID: 175330)#### deploy-to-production.sh

---

âœ… API å¥åº·æ£€æŸ¥é€šè¿‡

## æ³¨æ„äº‹é¡¹

âœ… å‰ç«¯é¡µé¢å¯è®¿é—®**åŠŸèƒ½ï¼š** å®Œæ•´çš„ 5 é˜¶æ®µç”Ÿäº§éƒ¨ç½²æµç¨‹

### è„šæœ¬æ¸…ç†è¯´æ˜ï¼ˆ2025-10-16ï¼‰

âœ… SSL è¯ä¹¦æœ‰æ•ˆ (åˆ°æœŸ: 2025-04-15)

æœ¬ç›®å½•å·²è¿›è¡Œå¤§è§„æ¨¡æ¸…ç†ï¼Œä» **21 ä¸ªè„šæœ¬ç²¾ç®€åˆ° 6 ä¸ªæ ¸å¿ƒè„šæœ¬**ï¼š

````**éƒ¨ç½²é˜¶æ®µï¼š**

- âœ… **ä¿ç•™çš„æ ¸å¿ƒè„šæœ¬ï¼ˆ6ä¸ªï¼‰**ï¼š

  - å¼€å‘ç¯å¢ƒï¼šstart-dev.sh, stop-dev.sh, status-dev.sh, start-frontend-dev.sh

  - ç”Ÿäº§éƒ¨ç½²ï¼šdeploy.sh, check-production.sh

---1. **æœ¬åœ°æ£€æŸ¥** - Git çŠ¶æ€ã€å…³é”®æ–‡ä»¶ã€å‰ç«¯æ„å»ºã€æµ‹è¯•

- ğŸ—‘ï¸ **å·²åˆ é™¤çš„è„šæœ¬ï¼ˆ18ä¸ªï¼‰**ï¼š

  - æ—§éƒ¨ç½²è„šæœ¬ï¼šdeploy-to-production.sh, deploy-auto.sh, deploy-mobile-image-fix.sh, deploy-miniprogram.sh, deploy-experience-version.sh2. **ç”Ÿäº§å¤‡ä»½** - è‡ªåŠ¨å¤‡ä»½ä»£ç å’Œé…ç½®ï¼ˆä¿ç•™æœ€è¿‘ 5 ä¸ªï¼‰

  - æµ‹è¯•è„šæœ¬ï¼šcreate_test_mistakes.py, test_mistake_ai_analysis.py, test_production_api.sh, miniprogram-sync-test.js

  - è¯Šæ–­è„šæœ¬ï¼šdiagnose_mobile_cache_issue.sh, diagnose.py### start-dev.sh3. **åŒæ­¥ä»£ç ** - rsync å¢é‡åŒæ­¥åç«¯/å‰ç«¯/Nginx

  - é…ç½®è„šæœ¬ï¼šupdate_production_config.py, check_miniprogram_config.sh

  - æ„å»ºè„šæœ¬ï¼šbuild_frontend.sh, verify_legacy_build.sh, optimize-package-size.sh4. **æœåŠ¡å™¨æ“ä½œ** - æ›´æ–°ä¾èµ–ã€æ•°æ®åº“è¿ç§»ã€é‡å¯æœåŠ¡

  - æ•°æ®åº“è„šæœ¬ï¼šrecreate_db.py, create_dev_test_accounts.py, server_create_test_accounts.py, init_database.py

  - éªŒè¯è„šæœ¬ï¼špre_deploy_check.sh, verify_deployment.sh**åŠŸèƒ½**ï¼šå¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ5. **éƒ¨ç½²éªŒè¯** - å¥åº·æ£€æŸ¥ã€API æµ‹è¯•ã€æ—¥å¿—æŸ¥çœ‹



**è¿ç§»æŒ‡å—**ï¼š

- æ—§éƒ¨ç½²æµç¨‹ï¼ˆ5ä¸ªè„šæœ¬ï¼‰â†’ æ–°éƒ¨ç½²æµç¨‹ï¼ˆdeploy.sh ä¸€é”®å®Œæˆï¼‰

- éƒ¨ç½²éªŒè¯ï¼ˆverify_deployment.shï¼‰â†’ ç”Ÿäº§çŠ¶æ€æ£€æŸ¥ï¼ˆcheck-production.shï¼‰**å¯åŠ¨æœåŠ¡**ï¼š**å¯ç”¨é€‰é¡¹ï¼š**

- è¯¦ç»†éƒ¨ç½²æ–‡æ¡£ï¼š[DEPLOY-README.md](./DEPLOY-README.md)

- åç«¯ï¼šFastAPI (ç«¯å£ 8000)

**æ¸…ç†åŸå› **ï¼š

- ä¸€æ¬¡æ€§ä½¿ç”¨è„šæœ¬ï¼ˆå·²å®Œæˆä½¿å‘½ï¼‰- å‰ç«¯ï¼šVite Dev Server (ç«¯å£ 5173)```bash

- åŠŸèƒ½é‡å¤è„šæœ¬ï¼ˆè¢«æ–°è„šæœ¬æ›¿ä»£ï¼‰

- è¿‡æ—¶è„šæœ¬ï¼ˆä¸å†é€‚ç”¨æ–°æ¶æ„ï¼‰--dry-run       # é¢„è§ˆéƒ¨ç½²æ­¥éª¤ï¼ˆä¸æ‰§è¡Œï¼‰

- å±é™©æ“ä½œè„šæœ¬ï¼ˆå¦‚ recreate_db.pyï¼‰

**ä½¿ç”¨æ–¹æ³•**ï¼š--quick         # å¿«é€Ÿéƒ¨ç½²ï¼ˆè·³è¿‡å¤‡ä»½å’Œæµ‹è¯•ï¼‰

---

```bash--skip-backup   # è·³è¿‡å¤‡ä»½æ­¥éª¤

### å®‰å…¨æç¤º

./scripts/start-dev.sh--skip-tests    # è·³è¿‡æœ¬åœ°æµ‹è¯•

1. **ç”Ÿäº§ç¯å¢ƒæ“ä½œ**

   - æ‰€æœ‰ç”Ÿäº§éƒ¨ç½²å¿…é¡»ç»è¿‡æµ‹è¯•éªŒè¯````

   - æ•°æ®åº“è¿ç§»éœ€æ‰‹åŠ¨æ‰§è¡Œï¼ˆé¿å…è‡ªåŠ¨åŒ–é£é™©ï¼‰

   - æ•æ„Ÿé…ç½®ï¼ˆ.env.productionï¼‰ä¸çº³å…¥ç‰ˆæœ¬æ§åˆ¶**æ—¥å¿—ä½ç½®**ï¼š**ç‰¹æ€§ï¼š**



2. **SSH å¯†é’¥ç®¡ç†**- åç«¯ï¼š`logs/backend.log`

   - ä½¿ç”¨å¯†é’¥è®¤è¯ï¼Œç¦ç”¨å¯†ç ç™»å½•

   - å¯†é’¥æƒé™å¿…é¡»ä¸º 600- å‰ç«¯ï¼š`logs/frontend.log`- å½©è‰²è¾“å‡ºå’Œè¿›åº¦æç¤º

   - å®šæœŸæ£€æŸ¥æœåŠ¡å™¨ authorized_keys

- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œå›æ»šæŒ‡å¯¼

3. **æ—¥å¿—å®‰å…¨**

   - æ—¥å¿—æ–‡ä»¶ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€Tokenï¼‰**è¿›ç¨‹ç®¡ç†**ï¼š- äº¤äº’å¼ç¡®è®¤æœºåˆ¶

   - ç”Ÿäº§æ—¥å¿—è‡ªåŠ¨è„±æ•å¤„ç†

   - systemd æ—¥å¿—é€šè¿‡ journalctl ç®¡ç†- PID æ–‡ä»¶ï¼š`logs/{backend,frontend}.pid`- è‡ªåŠ¨å¤‡ä»½ç®¡ç†ï¼ˆä¿ç•™ 5 ä¸ªæœ€è¿‘å¤‡ä»½ï¼‰



### ç¯å¢ƒé…ç½®- è‡ªåŠ¨æ¸…ç†æ—§è¿›ç¨‹



- **å¼€å‘ç¯å¢ƒ**ï¼š`.env` é…ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•**ç¤ºä¾‹ï¼š**

- **ç”Ÿäº§ç¯å¢ƒ**ï¼š`.env.production` é…ç½®åœ¨æœåŠ¡å™¨ `/opt/wuhao-tutor/`

- **é…ç½®æ¨¡æ¿**ï¼š`config/templates/.env.example`---



### ä¾èµ–ç®¡ç†````bash



- **Python**ï¼šä½¿ç”¨ `uv` ç®¡ç†ä¾èµ–ï¼ˆpyproject.tomlï¼‰### diagnose.py# é¦–æ¬¡éƒ¨ç½²ï¼ˆå®Œæ•´æµç¨‹ï¼‰

- **Node.js**ï¼šä½¿ç”¨ `npm` ç®¡ç†å‰ç«¯ä¾èµ–ï¼ˆpackage.jsonï¼‰

- **æ•°æ®åº“**ï¼šå¼€å‘ç¯å¢ƒä½¿ç”¨ SQLiteï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨ PostgreSQL./scripts/deploy-to-production.sh



---**åŠŸèƒ½**ï¼šç¯å¢ƒè¯Šæ–­å·¥å…·



## ç›¸å…³æ–‡æ¡£# å¿«é€Ÿéƒ¨ç½²å°æ”¹åŠ¨



- **[éƒ¨ç½²æ–‡æ¡£](./DEPLOY-README.md)**ï¼ˆâ­ æ¨èï¼‰- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæ•´æŒ‡å—**æ£€æŸ¥é¡¹**ï¼š./scripts/deploy-to-production.sh --quick

- [é¡¹ç›® README](../README.md) - é¡¹ç›®æ¦‚è§ˆå’Œå¿«é€Ÿå¼€å§‹

- [Copilot æŒ‡ä»¤](../.github/copilot-instructions.md) - AI åŠ©æ‰‹å¼€å‘è§„èŒƒ- Python ç‰ˆæœ¬å’Œä¾èµ–



---- æ•°æ®åº“è¿æ¥# é¢„è§ˆéƒ¨ç½²è®¡åˆ’



**æœ€åæ›´æ–°**ï¼š2025-10-16  - é…ç½®æ–‡ä»¶å®Œæ•´æ€§./scripts/deploy-to-production.sh --dry-run

**ç»´æŠ¤è€…**ï¼šäº”å¥½ä¼´å­¦å¼€å‘å›¢é˜Ÿ

**è„šæœ¬ç‰ˆæœ¬**ï¼šv2.0ï¼ˆä» 21 ä¸ªç²¾ç®€åˆ° 6 ä¸ªï¼‰- ç›®å½•æƒé™```


- ç«¯å£å ç”¨

---

**ä½¿ç”¨æ–¹æ³•**ï¼š

```bash#### verify_deployment.sh

uv run python scripts/diagnose.py

```**åŠŸèƒ½ï¼š** éªŒè¯ç”Ÿäº§ç¯å¢ƒæœåŠ¡çŠ¶æ€



**è¾“å‡ºç¤ºä¾‹**ï¼š**æ£€æŸ¥é¡¹ç›®ï¼š**

```````

âœ“ Python 3.11.7- systemd æœåŠ¡çŠ¶æ€

âœ“ æ•°æ®åº“è¿æ¥æ­£å¸¸- API å¥åº·æ£€æŸ¥ç«¯ç‚¹

âœ— BAILIAN_API_KEY æœªé…ç½®- æ•°æ®åº“è¿æ¥

```````- æ—¥å¿—æœ€æ–°é”™è¯¯



------



## æœ€ä½³å®è·µ#### update_production_config.py



### æ—¥å¸¸å¼€å‘æµç¨‹**åŠŸèƒ½ï¼š** æ‰¹é‡æ›´æ–°ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶



1. **å¯åŠ¨å¼€å‘ç¯å¢ƒ****ç”¨é€”ï¼š**

   ```bash

   ./scripts/start-dev.sh- åŒæ­¥ secrets/ åˆ°ç”Ÿäº§ç¯å¢ƒ

   ```- æ›´æ–°ç¯å¢ƒå˜é‡

- é‡å¯ç›¸å…³æœåŠ¡

2. **ä»£ç ä¿®æ”¹ä¸æµ‹è¯•**

   - åç«¯è‡ªåŠ¨é‡è½½ï¼ˆuvicorn --reloadï¼‰---

   - å‰ç«¯çƒ­æ›´æ–°ï¼ˆVite HMRï¼‰

## ğŸ”§ æ•…éšœæ’æŸ¥

3. **åœæ­¢å¼€å‘ç¯å¢ƒ**

   ```bash### ç«¯å£è¢«å ç”¨

   ./scripts/stop-dev.sh

   ``````bash

# æŸ¥çœ‹ç«¯å£å ç”¨

### ç”Ÿäº§éƒ¨ç½²æµç¨‹ï¼ˆâ­ æ¨èï¼‰lsof -i :8000

lsof -i :5173

1. **æ‰§è¡Œä¸€é”®éƒ¨ç½²**

   ```bash# å¼ºåˆ¶åœæ­¢

   ./scripts/deploy.sh./scripts/stop-dev.sh --force

```````

2. **ï¼ˆå¯é€‰ï¼‰æ‰‹åŠ¨æ•°æ®åº“è¿ç§»**### æœåŠ¡å¯åŠ¨å¤±è´¥

   ````bash

   ssh root@121.199.173.244 'cd /opt/wuhao-tutor && source venv/bin/activate && alembic upgrade head'```bash

   ```# æŸ¥çœ‹æ—¥å¿—
   ````

cat .dev-pids/backend.log

3. **éªŒè¯éƒ¨ç½²ç»“æœ**cat .dev-pids/frontend.log

   ````bash

   ./scripts/check-production.sh# æ£€æŸ¥è¯¦ç»†çŠ¶æ€

   ```./scripts/status-dev.sh --verbose
   ````

```````

4. **æŸ¥çœ‹æœåŠ¡æ—¥å¿—**

   ```bash### ä¾èµ–é—®é¢˜

   ssh root@121.199.173.244 'journalctl -u wuhao-tutor.service -f'

   ``````bash

# é‡æ–°å®‰è£…ä¾èµ–

### å¼€å‘ç¯å¢ƒæ•°æ®åº“é‡ç½®rm -rf .venv frontend/node_modules

./scripts/start-dev.sh

```bash```

make db-reset  # åŒ…å«ï¼šåˆ é™¤æ•°æ®åº“ + Alembic è¿ç§» + åˆå§‹åŒ–æ•°æ®

```---



---## ğŸ“ æ—¥å¿—ç®¡ç†



## æ•…éšœæ’æŸ¥```bash

# å®æ—¶æŸ¥çœ‹æ—¥å¿—

### å¼€å‘æœåŠ¡å™¨æ— æ³•å¯åŠ¨tail -f .dev-pids/frontend.log

tail -f .dev-pids/backend.log

1. **æ£€æŸ¥ç«¯å£å ç”¨**

   ```bash# æŸ¥çœ‹æœ€è¿‘50è¡Œ

   ./scripts/status-dev.shtail -50 .dev-pids/backend.log

   lsof -i :8000  # åç«¯

   lsof -i :5173  # å‰ç«¯# æ¸…ç†æ—¥å¿—

   ```./scripts/stop-dev.sh --clean-logs

```````

2. **æŸ¥çœ‹æ—¥å¿—**

   ```bash---

   tail -f logs/backend.log

   tail -f logs/frontend.log## ğŸ“š ç›¸å…³æ–‡æ¡£

   ```

- **å¼€å‘æŒ‡å—**: `docs/development/`

3. **é‡å¯å¼€å‘ç¯å¢ƒ**- **API æ–‡æ¡£**: `docs/api/`

   ```bash- **æ¶æ„æ–‡æ¡£**: `docs/architecture/`

   ./scripts/stop-dev.sh

   ./scripts/start-dev.sh---

   ```

   ```

## âš ï¸ æ³¨æ„äº‹é¡¹

### ç”Ÿäº§éƒ¨ç½²é—®é¢˜

1. **é¦–æ¬¡è¿è¡Œ**ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼ˆéœ€å‡ åˆ†é’Ÿï¼‰

1. **æ£€æŸ¥ SSH è¿æ¥**2. **ç«¯å£å†²çª**æ—¶ä¼šè‡ªåŠ¨å¯»æ‰¾å¯ç”¨ç«¯å£

   ```bash3. **æ—¥å¿—æ–‡ä»¶**ä¿å­˜åœ¨ `.dev-pids/` ç›®å½•

   ssh root@121.199.173.244 'echo "SSH è¿æ¥æ­£å¸¸"'4. **PID æ–‡ä»¶**åœ¨åœæ­¢æ—¶è‡ªåŠ¨æ¸…ç†

   ```5. ç¡®ä¿åœ¨**é¡¹ç›®æ ¹ç›®å½•**ä¸‹è¿è¡Œè„šæœ¬

   ```

1. **æŸ¥çœ‹æœåŠ¡çŠ¶æ€**---

   ````bash

   ssh root@121.199.173.244 'systemctl status wuhao-tutor'**æœ€åæ›´æ–°**: 2025-10-09

   ```**è„šæœ¬æ•°é‡**: 8 ä¸ªæ ¸å¿ƒè„šæœ¬ï¼ˆ4 ä¸ªå¼€å‘ + 3 ä¸ªéƒ¨ç½² + SQLï¼‰

   ````

1. **æŸ¥çœ‹å®æ—¶æ—¥å¿—**---

   ```bash

   ssh root@121.199.173.244 'journalctl -u wuhao-tutor.service -f'## ğŸ“¦ å½’æ¡£è¯´æ˜

   ```

ä»¥ä¸‹è„šæœ¬å·²å®Œæˆä½¿å‘½å¹¶å½’æ¡£è‡³ `archive/scripts/`ï¼š

4. **æ‰‹åŠ¨é‡å¯æœåŠ¡**

   ```bash- `cleanup_local.sh` - æœ¬åœ°ç¯å¢ƒæ¸…ç†ï¼ˆå·²æ‰§è¡Œï¼ŒèŠ‚çœ 94MBï¼‰

   ssh root@121.199.173.244 'systemctl restart wuhao-tutor.service'- `cleanup_production.sh` - ç”Ÿäº§ç¯å¢ƒæ¸…ç†ï¼ˆå·²æ‰§è¡Œï¼ŒèŠ‚çœ ~200MBï¼‰

   ```- `deploy_to_alicloud.sh` - åˆæ¬¡éƒ¨ç½²è„šæœ¬ï¼ˆå·²è¢« deploy-to-production.sh å–ä»£ï¼‰

---å·²åˆ é™¤çš„ä¸´æ—¶è„šæœ¬ï¼š

## æ³¨æ„äº‹é¡¹- `backup_database.sh` - ä¸´æ—¶å¤‡ä»½è„šæœ¬

- `setup_ssl.sh` / `renew_ssl.sh` - SSL é…ç½®è„šæœ¬ï¼ˆå·²å®Œæˆé…ç½®ï¼‰

### è„šæœ¬æ¸…ç†è¯´æ˜- `migrate_database.py` - æ—§è¿ç§»è„šæœ¬ï¼ˆåŠŸèƒ½é‡å¤ï¼‰

- `create_missing_tables.py` - ä¸´æ—¶æ•°æ®åº“ç»•è¿‡æ–¹æ¡ˆ

æœ¬ç›®å½•å·²äº **2025-10-16** è¿›è¡Œå¤§è§„æ¨¡æ¸…ç†ï¼Œåˆ é™¤ä»¥ä¸‹ç±»å‹è„šæœ¬ï¼š

- âœ… å·²åˆ é™¤ï¼š18 ä¸ªå†—ä½™è„šæœ¬ï¼ˆä¸€æ¬¡æ€§ä½¿ç”¨ã€å·²è¿‡æ—¶ã€è¢«æ–°è„šæœ¬æ›¿ä»£ï¼‰
- âœ… ä¿ç•™ï¼š6 ä¸ªæ ¸å¿ƒè„šæœ¬ï¼ˆå¼€å‘ 4 ä¸ª + éƒ¨ç½² 2 ä¸ªï¼‰
- ğŸ—‘ï¸ åˆ é™¤åˆ—è¡¨ï¼š
  - æ—§éƒ¨ç½²è„šæœ¬ï¼šdeploy-to-production.sh, deploy-auto.sh, deploy-mobile-image-fix.sh, deploy-miniprogram.sh, deploy-experience-version.sh
  - æµ‹è¯•è„šæœ¬ï¼šcreate_test_mistakes.py, test_mistake_ai_analysis.py, test_production_api.sh, miniprogram-sync-test.js
  - è¯Šæ–­è„šæœ¬ï¼šdiagnose_mobile_cache_issue.sh, diagnose.py
  - é…ç½®è„šæœ¬ï¼šupdate_production_config.py, check_miniprogram_config.sh
  - æ„å»ºè„šæœ¬ï¼šbuild_frontend.sh, verify_legacy_build.sh, optimize-package-size.sh
  - æ•°æ®åº“è„šæœ¬ï¼šrecreate_db.py, create_dev_test_accounts.py, server_create_test_accounts.py, init_database.py
  - éªŒè¯è„šæœ¬ï¼špre_deploy_check.sh, verify_deployment.sh

**è¿ç§»æŒ‡å—**ï¼š

- æ—§éƒ¨ç½²æµç¨‹ï¼ˆdeploy-to-production.shï¼‰â†’ æ–°éƒ¨ç½²æµç¨‹ï¼ˆdeploy.shï¼‰
- éƒ¨ç½²éªŒè¯ï¼ˆverify_deployment.shï¼‰â†’ ç”Ÿäº§çŠ¶æ€æ£€æŸ¥ï¼ˆcheck-production.shï¼‰
- è¯¦ç»†éƒ¨ç½²æ–‡æ¡£å·²è¿ç§»è‡³ï¼š[DEPLOY-README.md](./DEPLOY-README.md)

---

### å®‰å…¨æç¤º

1. **ç”Ÿäº§ç¯å¢ƒæ“ä½œ**

   - æ‰€æœ‰ç”Ÿäº§éƒ¨ç½²å¿…é¡»ç»è¿‡æµ‹è¯•éªŒè¯
   - æ•°æ®åº“è¿ç§»éœ€æ‰‹åŠ¨æ‰§è¡Œï¼ˆé¿å…è‡ªåŠ¨åŒ–é£é™©ï¼‰
   - æ•æ„Ÿé…ç½®ï¼ˆ.env.productionï¼‰ä¸çº³å…¥ç‰ˆæœ¬æ§åˆ¶

2. **SSH å¯†é’¥ç®¡ç†**

   - ä½¿ç”¨å¯†é’¥è®¤è¯ï¼Œç¦ç”¨å¯†ç ç™»å½•
   - å¯†é’¥æƒé™å¿…é¡»ä¸º 600
   - å®šæœŸæ£€æŸ¥æœåŠ¡å™¨ authorized_keys

3. **æ—¥å¿—å®‰å…¨**
   - æ—¥å¿—æ–‡ä»¶ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€Tokenï¼‰
   - ç”Ÿäº§æ—¥å¿—è‡ªåŠ¨è„±æ•å¤„ç†
   - systemd æ—¥å¿—é€šè¿‡ journalctl ç®¡ç†

### ç¯å¢ƒé…ç½®

- **å¼€å‘ç¯å¢ƒ**ï¼š`.env` é…ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•
- **ç”Ÿäº§ç¯å¢ƒ**ï¼š`.env.production` é…ç½®åœ¨æœåŠ¡å™¨ `/opt/wuhao-tutor/`
- **é…ç½®æ¨¡æ¿**ï¼š`config/templates/.env.example`

### ä¾èµ–ç®¡ç†

- **Python**ï¼šä½¿ç”¨ `uv` ç®¡ç†ä¾èµ–ï¼ˆpyproject.tomlï¼‰
- **Node.js**ï¼šä½¿ç”¨ `npm` ç®¡ç†å‰ç«¯ä¾èµ–ï¼ˆpackage.jsonï¼‰
- **æ•°æ®åº“**ï¼šå¼€å‘ç¯å¢ƒä½¿ç”¨ SQLiteï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨ PostgreSQL

---

## ç›¸å…³æ–‡æ¡£

- **[éƒ¨ç½²æ–‡æ¡£](./DEPLOY-README.md)**ï¼ˆâ­ æ¨èï¼‰- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæ•´æŒ‡å—
- [é¡¹ç›® README](../README.md) - é¡¹ç›®æ¦‚è§ˆå’Œå¿«é€Ÿå¼€å§‹
- [Copilot æŒ‡ä»¤](../.github/copilot-instructions.md) - AI åŠ©æ‰‹å¼€å‘è§„èŒƒ

---

**æœ€åæ›´æ–°**ï¼š2025-10-16  
**ç»´æŠ¤è€…**ï¼šäº”å¥½ä¼´å­¦å¼€å‘å›¢é˜Ÿ  
**è„šæœ¬ç‰ˆæœ¬**ï¼šv2.0ï¼ˆæ¸…ç†åï¼‰
